$.namespace("indolotte.front.ec.display.common");
indolotte.front.ec.display.common={viewAppDownloadSMSPopup:function(a){var b=CONSTANTS.imgUrl+"icon/qr/app_down_qr_"+a+".png";$("#imgQRAppDownLoad").attr("src",b);$("p[type\x3d'smsErrorMessage']").hide();$("#appDownloadSMSTypeOfOS").val(a);$.fancybox($("#appDownloadSMSPopupLayer"))},clearLocalStorage:function(a){var b=[];a=a.toLowerCase();for(var c=0;c<localStorage.length;c++){var d=localStorage.key(c);d.toLowerCase().startsWith(a)&&b.push(d)}for(c=0;c<b.length;c++)localStorage.removeItem(b[c])},
getSliceArray:function(a,b,c){var d=[],e=0;if(a)if($.isArray(a))if(a.length>b)for(i=0;i<a.length;i++)if("P"==c){if(0==$.isEmptyObject(a[i].productNumber)){d[e]=a[i];if(e>=b-1)break;e++}}else{if(d[i]=a[i],i>=b-1)break}else for(i=0;i<a.length;i++)if("P"==c){if(0==$.isEmptyObject(a[i].productNumber)){d[e]=a[i];if(e>=b-1)break;e++}}else{if(d[i]=a[i],e>=b-1)break}else"P"==c?0==$.isEmptyObject(a.productNumber)&&(d[0]=a):d[0]=a;return d},moveCategory:function(a){try{var b=CONSTANTS.baseUrl+"di/displayView/"+
a+"/view.do";null!=localStorage.getItem(location.origin+b)&&localStorage.removeItem(location.origin+b)}catch(c){}if("undefined"!=typeof a&&""!=a)location.href=b;else return!1},moveBanner:function(a,b,c,d,e){this.clearHistoryUrl(a);String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});"Y"===b?window.open(a):location.href=a},pageConstants:function(a,b,c){var d=indolotte.front.ec.display.common;"1101"===a||"1102"===a||"1103"===a||"2101"===a||
"3101"===a?d.moveCategory(b):"1201"===a?d.moveBrandPage():"1301"===a?d.moveMain():"1302"===a?d.moveLiveShop():"1303"===a?d.moveDeal():"13A1"===a||"13A2"===a?d.moveCampaignMain():"13A3"===a||"13A4"===a||"13A6"===a||"13A7"===a?d.moveCampaign(b,c):"13A5"===a?d.moveExclusiveCampaign(b,c):"13B1"===a||"13B2"===a?d.moveThemeStoryMain():"13B3"===a?d.moveThemeStory(b):"2301"!==a&&"3301"!==a||d.moveMallMain(b)},moveBrandPage:function(){},moveLogin:function(){indolotte.front.ec.display.common.clearLocalStorage(window.location.origin+
"/MallInMall/Lotte-Mart/");indolotte.front.ec.display.common.clearLocalStorage(window.location.origin+"/di/");var a=document.location.href,a=(a||"").replace(/javascript\s*:\s*/g,"java-script:"),a=window.encodeURIComponent(a);location.href=CONSTANTS.baseUrl+"login/loginForm.do?redirectUrl\x3d"+a},moveMain:function(){location.href=CONSTANTS.baseUrl},moveMallMain:function(a,b){location.href=null==b?CONSTANTS.baseUrl+"di/displayView/main.do":CONSTANTS.baseUrl+"MallInMall/"+b+"/"+a+"/main.do"},moveBrandMallMain:function(a){location.href=
CONSTANTS.baseUrl+"brandmall/"+a+"/main.do"},moveBrandMall:function(){location.href=CONSTANTS.baseUrl+"brandmall/list.do"},moveCampaignMain:function(){location.href=CONSTANTS.baseUrl+"campaign/000000010305/view.do"},moveCampaign:function(a,b){location.href=this.getCampaignURL(a,b)},getCampaignURL:function(a,b){return"/promo-"+this.filterOfURL(b)+"-"+a+".do"},moveExclusiveCampaign:function(a,b){this.moveCampaign(a,b)},moveThemeStoryMain:function(){location.href=CONSTANTS.baseUrl+"themestory/000000010307/view.do"},
moveThemeStory:function(a){location.href=CONSTANTS.baseUrl+"themestory/"+a+"/16/viewDetail.do"},moveLiveShop:function(){location.href=CONSTANTS.baseUrl+"di/shoppingShow/000000010302/01/view.do"},moveDeal:function(){location.href=CONSTANTS.baseUrl+"di/deal/000000010303/view.do"},moveEvent:function(){location.href=CONSTANTS.baseUrl+"ev/listOfEvent.do"},moveKWave:function(){location.href=CONSTANTS.baseUrl+"promo-k-wave-festival-000000125421.do"},moveiLotteFree:function(){location.href=CONSTANTS.baseUrl+
"promo-ilotte-free-000000125420.do"},movePulsa:function(){location.href=CONSTANTS.baseUrl+"di/displayView/pulsa.do"},moveOptic:function(){},moveSocialWish:function(){location.href=CONSTANTS.baseUrl+"me/socialWishlist/viewSocialWishlistMain.do"},moveVoucher:function(){location.href=CONSTANTS.baseUrl+"promo-lebih-mudah-dengan-voucher-000000113995.do"},moveJajanan:function(a){location.href=CONSTANTS.baseUrl+"brandmall/Pesona-Nusantara/"+(""==a?"000000101499":a)+"/main.do"},moveTvShopping:function(){location.href=
CONSTANTS.baseUrl+"promo-tv-homeshopping-best-seller-lejel-000000114994.do"},moveTopMain:function(){CONSTANTS.MALLINMALLCODE.codes.contains(DISPLAY_MALL_CODE)?(DISPLAY_MALL_CODE==PROPERTIES_AVENUE_MALL_CODE?CATEGORY_NAME=MALL_IN_MALL_AVENUE_NAME:DISPLAY_MALL_CODE==PROPERTIES_LOTTEMART_MALL_CODE?CATEGORY_NAME=MALL_IN_MALL_LOTTE_MART_NAME:DISPLAY_MALL_CODE==PROPERTIES_LEJEL_MALL_CODE?CATEGORY_NAME=MALL_IN_MALL_LEJEL_NAME:DISPLAY_MALL_CODE==PROPERTIES_MAP_MALL_CODE?CATEGORY_NAME=MALL_IN_MALL_MAP_NAME:
DISPLAY_MALL_CODE==PROPERTIES_KMALL_MALL_CODE?CATEGORY_NAME=MALL_IN_MALL_KMALL_NAME:DISPLAY_MALL_CODE==PROPERTIES_KIDZSTATION_MALL_CODE?CATEGORY_NAME=MALL_IN_MALL_KIDZSTATION_NAME:DISPLAY_MALL_CODE==PROPERTIES_BESTDENKI_MALL_CODE&&(CATEGORY_NAME=MALL_IN_MALL_BESTDENKI_NAME),this.moveMallMain(MALL_IN_MALL_MAIN_CATEGORY_NUMBER,CATEGORY_NAME)):this.moveMain()},moveDelivery:function(a){var b=new Date;a=indolotte.front.ec.display.common.setDate(0,b);var b=indolotte.front.ec.display.common.setDate(7,b),
c=CONSTANTS.baseUrl+"op/mypage/mypageOrderList.do",d=$("meta[name\x3d'_csrf']").attr("content"),e=$("meta[name\x3d'_csrf_parameter']").attr("content"),f=$("\x3cform\x3e\x3c/form\x3e").attr("id","pageMoveForm");$("\x3cinput type\x3d'hidden' value\x3d'"+b+"' \x3e").attr("name","searchStartDate").appendTo(f);$("\x3cinput type\x3d'hidden' value\x3d'"+a+"' \x3e").attr("name","searchEndDate").appendTo(f);$("\x3cinput type\x3d'hidden' value\x3d'04' \x3e").attr("name","searchOrderStatus").appendTo(f);$("\x3cinput type\x3d'hidden' value\x3d'"+
d+"' \x3e").attr("name",e).appendTo(f);f.appendTo("body");f.attr("action",c);f.attr("method","GET");f.submit()},filterOfURL:function(a){void 0!=a&&null!=a&&""!=a&&"null"!=a?(a=a.replace(/\'/gi,""),a=a.replace(/\"/gi,""),a=a.replace(/\(/gi,""),a=a.replace(/\)/gi,""),a=a.replace(/\$/gi,""),a=a.replace(/%/gi,""),a=a.replace(/\^/gi,""),a=a.replace(/!/gi,""),a=a.replace(/\+/gi,""),a=a.replace(/\*/gi,""),a=a.replace(/=/gi,""),a=a.replace(/\\/gi,""),a=a.replace(/\,/gi,""),a=a.replace(/\$/gi,""),a=a.replace(/\[\]/gi,
""),a=a.replace(/\:/gi,""),a=a.replace(/\;/gi,""),a=a.replace(/\|/gi,""),a=a.replace(/&/gi,"-"),a=a.replace(/</gi,"-"),a=a.replace(/>/gi,"-"),a=a.replace(/#/gi,"-"),a=a.replace(/@/gi,"-"),a=a.replace(/\?/gi,"-"),a=a.replace(/\//gi,"-"),a=a.replace(/ /gi,"-"),a=a.replace(/--/gi,"-")):a="";return a},getSEOUrl:function(a,b){var c="";null!=b&&""!=b&&(c=c+b+"-");return c+a},viewProductLimitAge:function(a,b,c,d,e,f,g){"19"==f&&(f="17");$.fancybox($("#fancy"+f));$("#fancy"+f+" .body .btn_wrap.t_center button").not(".color01").on("click",
function(){indolotte.front.ec.display.common.viewProduct(a,b,c,d,e,g)})},getParamUrlUtm:function(){var a=indolotte.front.ec.display.common.getParamURI(window.location,"utm_source"),b=indolotte.front.ec.display.common.getParamURI(window.location,"utm_medium");return a&&b?"utm_source\x3d"+a+"\x26utm_medium\x3d"+b:""},changeHrefLinkOfViewProductAndImage:function(){$("[onclick*\x3dviewProduct]").each(function(a,b){var c=$(b).attr("onclick");if("indolotte.front.ec.display.common.viewProduct"==c.substr(0,
c.indexOf("("))){var c=c.substr(c.indexOf("(")+1,c.length),c=c.substr(0,c.indexOf(")")-1),c=c.replace(/ /gi,""),c=c.replace(/\'/gi,""),c=c.replace(/\"/gi,""),c=c.split(","),d,e,f;if(1<=c.length){a=c[0];d=2<=c.length?c[1]:"N";e=4<=c.length?c[3]:"";f=5<=c.length?c[4]:"";var c=6<=c.length?c[5]:"",g=indolotte.front.ec.display.common.getParamUrlUtm();a=""!=c?"Y"===d?CONSTANTS.baseUrl+"bigDealProduct/"+indolotte.front.ec.display.common.getSEOUrl(c,"")+"/ilm.do?productNumber\x3d"+a+"\x26categoryNumber\x3d"+
e+"\x26mallCode\x3d"+f+g:CONSTANTS.baseUrl+indolotte.front.ec.display.common.filterOfURL(c)+"-"+a+".do?cno\x3d"+e+"\x26mlc\x3d"+f+g:"Y"===d?CONSTANTS.baseUrl+"pr/bigDealDetail/viewDetail.do?prdNo\x3d"+a+"\x26categoryNumber\x3d"+e+"\x26mallCode\x3d"+f+g:CONSTANTS.baseUrl+"product-"+a+".do?cno\x3d"+e+"\x26mlc\x3d"+f+g;0==$(b).is("a")&&0<$(b).find("a").length?($(b).removeAttr("onclick"),$($(b).find("a")[0]).attr("href",a)):1==$(b).is("a")&&($(b).removeAttr("onclick"),$(b).attr("href",a))}}});$("[onclick*\x3dmoveBanner]").each(function(a,
b){var c=$(b).attr("onclick");if("indolotte.front.ec.display.common.moveBanner"==c.substr(0,c.indexOf("("))){var c=c.substr(c.indexOf("(")+1,c.length),c=c.substr(0,c.indexOf(")")-1),c=c.replace(/ /gi,""),c=c.replace(/\'/gi,""),c=c.replace(/\"/gi,""),c=c.split(","),d,e,f;if(1<=c.length){d=c[0];a=2<=c.length?c[1]:"N";e=3<=c.length?c[2]:"N";f=4<=c.length?c[3]:"";c=5<=c.length?c[4]:"";"#"==d?1==$(b).is("a")&&$(b).addClass("cursorDefault"):($(b).removeAttr("onclick"),$(b).attr("href",d),"Y"==a&&$(b).attr("target",
"_blank"));var g="categoryNumber\x3d"+f+", slotNumber\x3d"+c,h="advertisementSlotYNFlag\x3d"+e;$(b).on("click",function(){console.log(g);console.log(h);console.log(d);ga("send","event",g,h,d)})}}});$("[onclick*\x3dmoveCategory]").each(function(a,b){a=indolotte.front.ec.display.common;var c=$(b).attr("onclick");if("indolotte.front.ec.display.common.moveCategory"==c.substr(0,c.indexOf("("))){var c=c.substr(c.indexOf("(")+1,c.length),c=c.substr(0,c.indexOf(")")-1),c=c.replace(/ /gi,""),c=c.replace(/\'/gi,
""),c=c.replace(/\"/gi,""),c=c.split(","),d;if(1<=c.length){d=c[0];var e=a.getCategoryNameOfSEOURL(d,void 0);$(b).removeAttr("onclick");$(b).attr("href",e);$(b).attr("reset","true");$(b).click(function(){try{var a=CONSTANTS.baseUrl+"di/displayView/"+d+"/view.do";null!=localStorage.getItem(location.origin+a)&&localStorage.removeItem(location.origin+a);var b=location.origin+e;console.log("remove history, "+b);localStorage.removeItem(b)}catch(h){}})}}});$("[href*\x3dcategory]").each(function(a,b){var c=
$(b).attr("href");"true"!=$(b).attr("reset")&&($(b).attr("reset","true"),$(b).click(function(){try{var a=location.origin+c;console.log("remove history, "+a);localStorage.removeItem(a)}catch(e){}}))});$("[onclick*\x3dmoveBrandMallMain]").each(function(a,b){a=indolotte.front.ec.display.common;var c=$(b).attr("onclick");if("indolotte.front.ec.display.common.moveBrandMallMain"==c.substr(0,c.indexOf("("))){var c=c.substr(c.indexOf("(")+1,c.length),c=c.substr(0,c.indexOf(")")-1),c=c.replace(/ /gi,""),c=
c.replace(/\'/gi,""),c=c.replace(/\"/gi,""),c=c.split(","),d,e;1<=c.length&&(d=c[0]);2<=c.length&&(e=c[1]);d=a.getBrandMallMainOfSEOURL(d,e);$(b).removeAttr("onclick");$(b).attr("href",d)}})},getBrandMallMainOfSEOURL:function(a,b){var c=indolotte.front.ec.display.common;return"/brandmall/"+c.filterOfURL(c.getBrandMallName(b))+("/"+a+"/main.do")},getBrandMallName:function(a){for(var b="-",c=0;c<CONSTANTS.BRANDMALLCODE.codes.length;c++)if(CONSTANTS.BRANDMALLCODE.codes[c]==a){b=CONSTANTS.BRANDMALLCODE.values[c];
break}return b},getCategorySEOURL:function(a,b,c){var d=indolotte.front.ec.display.common;a="/category/"+d.filterOfURL(a);a+="/"+b+"/view.do";if(null!=c&&"0001"!=c){b=!1;for(var e=0;e<CONSTANTS.MALLINMALLCODE.codes.length;e++)if(CONSTANTS.MALLINMALLCODE.codes[e]==c){b=!0;a="/MallInMall/"+d.filterOfURL(CONSTANTS.MALLINMALLCODE.values[e])+a;break}if(0==b)for(e=0;e<CONSTANTS.BRANDMALLCODE.codes.length;e++)if(CONSTANTS.BRANDMALLCODE.codes[e]==c){a="/BrandMall/"+d.filterOfURL(CONSTANTS.BRANDMALLCODE.values[e])+
a;break}}return a},getCategoryNameOfSEOURL:function(a){var b="";try{var c=this.getCategoryInfo(a),b=null!=c?this.getCategorySEOURL(c.categoryName,c.categoryNumber,c.displayMallCode):this.getCategorySEOURL("-",a,null)}catch(d){b=this.getCategorySEOURL("-",a,null),console.log(d)}return b},categoryData:null,getCategoryInfo:function(a){var b=null;try{var c=this.categoryData;if(null==c){var d="allCategory_";"0001"!=DISPLAY_MALL_CODE&&(d+=DISPLAY_MALL_CODE+"_");d+=lotteindo.common.Cookie.getCookie("_KEY_FOR_USER_LOCALE_");
c=this.categoryData=indolotte.front.ec.display.navigator.getStorage(d)}if(null!=c)for(c=JSON.parse(c),d=0;d<c.displayAllCategoryList.length;d++){var e=c.displayAllCategoryList[d];if(e.categoryNumber==a){b=e;break}}}catch(f){console.log(f)}return b},viewProduct:function(a,b,c,d,e,f,g){location.href=this.getURLProduct(a,b,c,d,e,f,g)},getURLProduct:function(a,b,c,d,e,f,g){c=indolotte.front.ec.display.common.getParamUrlUtm();"undefined"==typeof d&&(d="");"undefined"==typeof e&&(e="");a=null!=f&&""!=f?
"Y"===b?CONSTANTS.baseUrl+"bigDealProduct/"+indolotte.front.ec.display.common.getSEOUrl(f,"")+"/ilm.do?productNumber\x3d"+a+"\x26categoryNumber\x3d"+d+"\x26mallCode\x3d"+e+c:CONSTANTS.baseUrl+indolotte.front.ec.display.common.filterOfURL(f)+"-"+a+".do?cno\x3d"+d+"\x26mlc\x3d"+e+c:"Y"===b?CONSTANTS.baseUrl+"pr/bigDealDetail/viewDetail.do?prdNo\x3d"+a+"\x26categoryNumber\x3d"+d+"\x26mallCode\x3d"+e+c:CONSTANTS.baseUrl+"product-"+a+".do?cno\x3d"+d+"\x26mlc\x3d"+e+c;try{localStorage.setItem(window.location.href+
"/top",$(window).scrollTop())}catch(h){}return a},getURLProductLimitAge:function(a,b,c,d,e,f,g){"19"==f&&(f="17");$.fancybox($("#fancy"+f));$("#fancy"+f+" .body .btn_wrap.t_center button").not(".color01").on("click",function(){indolotte.front.ec.display.common.getURLProduct(a,b,c,d,e,g)})},reloadWishListCountOfProduct:function(){var a=0;indolotte.common.Ajax.sendJSONRequest("GET",CONSTANTS.baseUrl+"api/me/wishlist/getTotalCountOfWishlist",null,function(b){try{a=b.data,$.isNumeric(a)&&"0"!==a&&0!==
a?($("#quickCounterWishlist").show(),$("#quickCounterWishlist").html("\x3cb\x3e"+a+"\x3c/b\x3e")):$("#quickCounterWishlist").hide()}catch(c){$("#quickCounterWishlist").hide()}},!0,!0)},reloadQuickCounter:function(){getCurrentUser().isLoggedIn?(indolotte.front.ec.display.common.reloadWishListCountOfProduct(),indolotte.common.Ajax.sendJSONRequest("GET",CONSTANTS.baseUrl+"api/op/cart/getProductCountOfCartForGnb",null,function(a){try{$.isNumeric(a)&&"0"!==a&&0!==a?($("#quickCounterCart").show(),$("#quickCounterCart").html("\x3cb\x3e"+
a+"\x3c/b\x3e")):$("#quickCounterCart").hide()}catch(b){$("#quickCounterCart").hide()}}),indolotte.common.Ajax.sendJSONRequest("POST",CONSTANTS.baseUrl+"api/op/mypage/getMypageIndexOrderStatus",{},function(a){a=a.inDeliveryCount;try{0===a?$("#quickCounterDelivery").hide():($("#quickDelivery").attr("onclick","indolotte.front.ec.display.common.moveDelivery('04'); return false;"),$("#quickCounterDelivery").show(),$("#quickCounterDelivery").text(a),$("#quickCounterDelivery").html("\x3cb\x3e"+a+"\x3c/b\x3e"))}catch(b){$("#quickCounterDelivery").hide()}})):
$("#quickCounterWishlist").hide()},searchConstants:{sort:[{code:"01",value:"SLPRC/DESC"},{code:"02",value:"SLPRC/ASC"},{code:"03",value:"ORD_QTY/DESC"},{code:"04",value:"DATE/DESC"},{code:"05",value:"PRD_EVAL_SCR_SORT/DESC"},{code:"06",value:""},{code:"07",value:"DISCOUNT_SORT/DESC"}],getSort:function(a){for(var b=indolotte.front.ec.display.common.searchConstants.sort,c="",d=0;d<b.length;d++)if(b[d].code===a){c=b[d].value;break}return c},getSortCode:function(a){for(var b=indolotte.front.ec.display.common.searchConstants.sort,
c="",d=0;d<b.length;d++)if(b[d].value===a){c=b[d].code;break}return c},getPrice:function(a){var b;b=0<$("#"+a).find("[name\x3d'minPrice']").length&&""!=$("#"+a).find("[name\x3d'minPrice']").val()?$("#"+a).find("[name\x3d'minPrice']").val():0;a=0<$("#"+a).find("[name\x3d'maxPrice']").length&&""!=$("#"+a).find("[name\x3d'maxPrice']").val()?$("#"+a).find("[name\x3d'maxPrice']").val():2147483647;"NaN"!==b&&$.isNumeric(b)||(b=0);"NaN"!==a&&$.isNumeric(a)||(a=2147483647);a=(a+"").replace(/\./gi,"");a=a.replace(/\,/gi,
".");2147483647<parseInt(a)&&(a=2147483647);return b+"^"+a},pageOptions:[]},searchMakeParam:function(a){var b={};b.categoryNo=$("#"+a+" [name\x3d'categoryNo']").val();b.categoryDepth=$("#"+a+" [name\x3d'categoryDepth']").val();b.quantityPerPage=$("#"+a+" [name\x3d'quantityPerPage']").val();b.pageIndex=$("#"+a+" [name\x3d'pageIndex']").val();b.brandNo=$("#"+a+" [name\x3d'brandNo']").val();b.sort=this.searchConstants.getSort($("#"+a+" [name\x3d'sort']").val());b.query=$("#searchWord").val();b.prdDtlTycdQuery=
$("#"+a+" [name\x3d'prdDtlTycdQuery']").val();b.mallNo=$("#"+a+" [name\x3d'mallNo']").val();b.sllrNo=$("#headerSllrNo").val();b.b2eYn=$("#"+a+" [name\x3d'b2eYn']").val();b.priceFilterQuery=this.searchConstants.getPrice(a);return b=indolotte.front.ec.display.common.constructLeftFilterParam(b)},getParamURI:function(a,b){searchString="undefined"===typeof a.href?"":a.href.split("?");queries=[];if(void 0===searchString[1])return null;queries=queries.concat(searchString[1].replace("\x26\x26","\x26").split("\x26"));
params={};for(var c=0;c<queries.length;c++)""!==queries[c]&&-1!=queries[c].indexOf("\x3d")?a=queries[c].split("\x3d"):(a=queries[c-1].split("\x3d"),a[1]=a[1].concat("\x26"+queries[c])),params[unescape(a[0].replace('"',"%22"))]=unescape(a[1].replace('"',"%22"));return"undefined"===typeof params[b]?null:params[b].indexOf("\x26")===params[b].length-1?params[b].substring(0,params[b].length-1):params[b]},constructLeftFilterParam:function(a){for(var b=indolotte.front.ec.display.common.searchConstants.pageOptions,
c="",d="",e=0;e<b.length;e++)if("DEFAULT"==b[e].type)if("BRAND_CT"==b[e].name||"BRAND_NM"==b[e].name){var f="BRAND_CT"==b[e].name?$("input[type\x3d'checkbox'][id^\x3dBRAND_CT_]:checked"):$("input[type\x3d'checkbox'][id^\x3dBRAND_NM_]:checked");a.brandQuery="";for(var g=0;g<f.length;g++)0<g&&(a.brandQuery+="^"),a.brandQuery+=f[g].value}else if("RATING"==b[e].name)for(f=$("input[type\x3d'checkbox'][name\x3d'RATING']:checked"),a.ratingQuery="",g=0;g<f.length;g++)0<g&&(a.ratingQuery+="^"),a.ratingQuery+=
$(f[g]).siblings().children().find(".num").text();else{if("COLOR"==b[e].name)for(f=$("input[type\x3d'checkbox'][name\x3d'Color']:checked"),a.colorQuery="",g=0;g<f.length;g++)0<g&&(a.colorQuery+="^"),a.colorQuery+=$(f[g]).val()}else if("OPTION"==b[e].type&&"null"!=b[e].name)for(f=$("input[type\x3d'checkbox'][name\x3d'"+b[e].name+"']:checked"),g=0;g<f.length;g++)""!=c&&0==g?c+="@"+b[e].name+":":0==g&&(c+=b[e].name+":"),0<g&&(c+="^"),c+=f[g].value;else if("SPEC"==b[e].type&&"null"!=b[e].name)for(f=$("input[type\x3d'checkbox'][name\x3d'"+
b[e].name+"']:checked"),g=0;g<f.length;g++)""!=d&&0==g?d+="@"+b[e].name+":":0==g&&(d+=b[e].name+":"),0<g&&(d+="^"),d+=f[g].value;1==$("#general_dlv").prop("checked")&&(a.deliveryQuery=$("#general_dlv").attr("name"));1==$("#flash_dlv").prop("checked")&&(a.deliveryQuery=$("#flash_dlv").attr("name"),1==$("#general_dlv").prop("checked")&&(a.deliveryQuery=""));a.optionQuery=c;a.specQuery=d;return a},searchProduct:function(a,b){indolotte.common.Ajax.sendJSONRequest("POST",CONSTANTS.baseUrl+"api/common/search/productSearch",
a,b)},searchOption:function(a,b){indolotte.common.Ajax.sendJSONRequest("POST",CONSTANTS.baseUrl+"api/common/search/filterSearch",indolotte.front.ec.display.productLeftFilter.pageParam,function(a){var c=[];if(a&&a.filterList){for(var e=0;e<a.filterList.length;e++)c.push("OPTION"==a.filterList[e].filterType||"SPEC"==a.filterList[e].filterType?{type:a.filterList[e].filterType,name:a.filterList[e].filterName}:{type:"DEFAULT",name:a.filterList[e].filterName});"0"==a.maxPrice&&(a.maxPrice=2147483647)}indolotte.front.ec.display.common.searchConstants.pageOptions=
c;b(a)},!1)},initLocale:function(){$(".pop_lang \x3e a").removeClass("on");var a=lotteindo.common.Cookie.getCookie("_KEY_FOR_USER_LOCALE_");null==a||""==a?(this.setCookie("_KEY_FOR_USER_LOCALE_","in",null,"/",".ilotte.com"),$(".pop_lang \x3e a:eq(0)").removeClass("on")):"en"==a?($(".pop_lang \x3e a:eq(0)").addClass("on"),$("#languageDisplay").html("EN"),$("#languageDisplay").parent().removeClass("lang_id").removeClass("lang_en").addClass("lang_en")):($(".pop_lang \x3e a:eq(1)").addClass("on"),$("#languageDisplay").html("ID"),
$("#languageDisplay").parent().removeClass("lang_id").removeClass("lang_en").addClass("lang_id"))},chLocale:function(a){this.setCookie("_KEY_FOR_USER_LOCALE_",a,null,"/",".ilotte.com");location.reload()},getProductDetailQuickList:function(){for(var a=lotteindo.common.Cookie.getCookie("productNumber"),b=lotteindo.common.Cookie.getCookie("productImagePath"),c=lotteindo.common.Cookie.getCookie("productSeoName"),a=a.split("^"),b=b.split("^"),c=c.split("^"),d=0;d<a.length;d++)if(""!=a[d]&&"undefined"!=
a[d]&&":"!=a[d]&&b[d]){var e=$("\x3cli\x3e").addClass("item"),f=$("\x3ca\x3e").attr("href","javascript:;").attr("onclick","indolotte.front.ec.display.common.viewDetailQuick('"+a[d]+"', '"+c[d]+"');"),g=$("\x3cspan\x3e").addClass("thumb"),h=$("\x3cimg\x3e").attr("src",b[d].replace(PRD_IMG_SIZE[800],PRD_IMG_SIZE[60]));g.append(h);f.append(g);e.append(f);$("#productDetailQuickLayer").append(e)}quickSlid_footer()},viewDetailQuick:function(a,b){a="undefined"==b||""==b?CONSTANTS.baseUrl+"product-"+a+".do?":
CONSTANTS.baseUrl+indolotte.front.ec.display.common.filterOfURL(b)+"-"+a+".do?";location.href=a},setComma:function(a){var b=/(^[+-]?\d+)(\d{3})/;for(a+="";b.test(a);)a=a.replace(b,"$1.$2");return a},getSubAllCategoryList:function(a,b,c,d){indolotte.common.Ajax.sendJSONRequest("GET",CONSTANTS.baseUrl+"api/display/listOfCategory/allSubCategory/"+b,"",function(b){b=b.displayAllCategoryList;if(a)if("L"===c){if("brand"!==d){var e=[];$.each(b,function(a){if(3==this.displayCategoryLevel)e.push(this);else if(3<
this.displayCategoryLevel)return!1});b=e}$("#subCategory").tmpl(b).appendTo("#positionSubCategory");cate_Menu()}else{if(b){var g=[],h=[],k={};$.each(b,function(){if(2==this.displayCategoryLevel)g.push(this);else if(3==this.displayCategoryLevel)"1"==this.startNumber&&(h=[]),h.push(this),"1"==this.endNumber&&(k[this.virtualUpperCategoryNumber]=h);else if(3<this.displayCategoryLevel)return!1});0<g.length&&($("#subCategory").tmpl(g).appendTo("#positionSubCategory"),7<g.length&&($("#positionSubCategory").siblings("p").show(),
submore_LNB()));b=Object.keys(k);$.each(b,function(){$("#subCategoryObj").tmpl(k[this]).appendTo("#"+this)});cate_Menu()}}else{if(void 0!=b&&0<b.length){if($("#tabSubCategory").tmpl(b).appendTo("#positionTabSubCategory"),"undefined"!=typeof historyHref&&null!=historyHref&&"null"!=historyHref&&""!=historyHref){var l=JSON.parse(historyHref);$("#positionTabSubCategory \x3e li").removeClass("on");$.each($("#positionTabSubCategory \x3e li"),function(a,b){$(this).data("ctg")==l.categoryNo&&$(this).addClass("on")})}}else $(".tab_prdctgs_wrap.mgb20, .tab_prdctgs_wrap.mgt20.mgb40").hide();
$("#searchPrdList").removeClass("mgt50")}})},getLocationCategory:function(a,b){$(".poplayer_wrap \x3e ul").empty();$(".poplayer_wrap").parent().removeClass("on");$(a).parent().addClass("on");indolotte.common.Ajax.sendJSONRequest("GET",CONSTANTS.baseUrl+"api/display/listUpperByCategory/"+b,"",function(b){(b=b.displayCategoryList)&&$("#locationTemplate").tmpl(b).appendTo($($(a).siblings()[0]).children())})},setCookie:function(a,b,c,d,e){lotteindo.common.Cookie.setCookie(a,b,c,d,e)},searchInit:function(a){"undefined"!=
typeof a&&""!=a&&$("#searchForm").append("\x3cinput type\x3d'hidden' name\x3d'b2eYn' id\x3d'b2eYn' value\x3d'Y'/\x3e");indolotte.front.ec.display.productLeftFilter.initURLParamLeftFilter();a=indolotte.front.ec.display.productLeftFilter.urlParamIdentifier.page;$("#searchForm").children("input[name\x3d'categoryNo']").val(pageInfo.categoryNumber);$("#searchForm").children("input[name\x3d'categoryDepth']").val(pageInfo.categoryLevel);$("#searchForm").children("input[name\x3d'sort']").val($("#sortCode").val());
$("#sortCode").change(function(){$("#searchForm").children("input[name\x3d'sort']").val($("#sortCode").val());$("#searchForm").children("input[name\x3d'pageIndex']").val(1);indolotte.front.ec.display.productLeftFilter.manipulateHistoryBrowser();indolotte.front.ec.display.productSearchList.searchProduct()});$("#searchForm").children("input[name\x3d'quantityPerPage']").val($("#quantityPerPageOfProduct").val());$("#quantityPerPageOfProduct").change(function(){$("#searchForm").children("input[name\x3d'quantityPerPage']").val($("#quantityPerPageOfProduct").val());
$("#searchForm").children("input[name\x3d'pageIndex']").val(1);indolotte.front.ec.display.productLeftFilter.manipulateHistoryBrowser();indolotte.front.ec.display.productSearchList.searchProduct()});$(".btn_srch").click(function(){indolotte.front.ec.display.productSearchList.searchProduct();indolotte.front.ec.display.productLeftFilter.manipulateHistoryBrowser()});indolotte.front.ec.display.productSearchList.searchProduct(a)},getProductImageURL:function(a,b){var c=PRD_IMG_PATH;if("undefined"==typeof b||
null==b)b=320;if(null!=a&&0<a.length&&2==a.split(".").length){var d=a.split(".")[0];a=a.split(".")[1];c=c+d+"_"+b+"."+a}else b=parseInt(b),320!=b&&176!=b&&(b=320),c=CONSTANTS.imgUrl+"common/no_img_"+b+"x"+b+".jpg";return c},setDate:function(a,b){0<a&&b.setDate(b.getDate()-a);return $.datepicker.formatDate("dd/mm/yy",b)},replaceTextUnderScore:function(a){return a.replace(/\_/gi," ")},defaultZip:function(){indolotte.common.Ajax.sendJSONRequest("GET",CONSTANTS.baseUrl+"api/display/listAvailableMartRegion",
"",function(a){if(a.martDeliveryRegionList&&0<a.martDeliveryRegionList.length){var b="";$.each(a.martDeliveryRegionList,function(){b+='\x3coption value\x3d"'+this.regionNumber+'"\x3e'+this.regionName+"\x3c/option\x3e"});b+='\x3coption value\x3d"-1"\x3e'+MESSAGES.format("di.js.combobox.others")+"\x3c/option\x3e";$("#headerZipLevel_1\x3e").after(b)}});$("select[id^\x3d'headerZipLevel']").on("change",function(){var a=parseInt($(this).attr("name").split("_")[1]);$(this);if(4>=a){if(""==$(this).val())return $(this).closest("li").nextAll().each(function(){"disabled"!=
$(this).children("select").attr("disabled")&&($(this).children("select option[value!\x3d'']").remove(),$(this).children("select").val("").prop("selected",!0),$(this).children("select").attr("disabled","disabled"))}),4==a&&($("button.btn_type2.color03").prop("disabled",!1),$("button.btn_type2.color03").removeClass("disable")),$(".ver_b .btn_type1.small").prop("disabled",!0),!1;var b=baseUrl+"api/op/searchAvailableMartDeliveryRegionList",c={};c.upperRegionNumber=$(this).val();c.regionLevel=a;indolotte.common.Ajax.sendJSONRequest("POST",
b,JSON.stringify(c),function(b){$("#headerZipLevel_"+(a+1)).prop("disabled",!1);$("#headerZipLevel_"+(a+1)+" option[value!\x3d'']").remove();$.each(b.zipcodeLevelList,function(b,c){$("#headerZipLevel_"+(a+1)).append("\x3coption value\x3d'"+c.regionNumber+"'\x3e"+c.regionName+"\x3c/option\x3e")});0===b.zipcodeLevelList.length?$("select[id^\x3d'headerZipLevel']").each(function(){a<parseInt($(this).attr("name").split("_")[1])&&($(this).prop("disabled",!0),$("#headerZipLevel_"+$(this).attr("name").split("_")[1]+
" option[value!\x3d'']").remove())}):$("select[id^\x3d'headerZipLevel']").each(function(){a+1<parseInt($(this).attr("name").split("_")[1])&&($(this).prop("disabled",!0),$("#headerZipLevel_"+$(this).attr("name").split("_")[1]+" option[value!\x3d'']").remove())})})}b=$(this).val();b=CONSTANTS.baseUrl+"api/display/searchRegionLevelToMartList/"+a+"?regionid\x3d"+b;indolotte.common.Ajax.sendJSONRequest("GET",b,"",function(b){b.martDeliveryStoreList?($("#positionMartList").show(),$("#positionMartListTitle").show(),
$("#positionMartList .none").siblings().remove(),$("#positionMartList .none").hide(),$("#tmplMartList").tmpl(b.martDeliveryStoreList).appendTo("#positionMartList")):($("#positionMartList").show(),$("#positionMartListTitle").show(),$("#positionMartList .none").siblings().remove(),$("#positionMartList .none").show());4==a&&($("button.btn_type2.color03").prop("disabled",!1),$("button.btn_type2.color03").removeClass("disable"))})})},partnerGet:function(){indolotte.common.Ajax.sendJSONRequest("POST",CONSTANTS.baseUrl+
"api/display/getDefaultShortDistanceSellerNumber","",function(a){a.defaultShortDistanceSellerNumber?DISPLAY_MALL_CODE==PROPERTIES_LOTTEMART_MALL_CODE?($("#headerSllrNo").val(a.defaultShortDistanceSellerNumber),$("#lottemartHeaderSllrNo").val(a.defaultShortDistanceSellerNumber),indolotte.front.ec.display.common.getPartnerName()):$("#lottemartHeaderSllrNo").val(a.defaultShortDistanceSellerNumber):DISPLAY_MALL_CODE==PROPERTIES_LOTTEMART_MALL_CODE?($("#headerSllrNo").val(PROPERTIES_LOTTEMART_DEFAULT_SELLER_NUMBER),
$("#lottemartHeaderSllrNo").val(PROPERTIES_LOTTEMART_DEFAULT_SELLER_NUMBER),indolotte.front.ec.display.common.getPartnerName()):$("#lottemartHeaderSllrNo").val(PROPERTIES_LOTTEMART_DEFAULT_SELLER_NUMBER)},!1)},getPartnerName:function(){var a={partnerNumber:$("#headerSllrNo").val()};try{indolotte.common.Ajax.sendJSONRequest("POST",CONSTANTS.baseUrl+"api/vd/partnerSearch/getPartnerInformaion",JSON.stringify(a),function(a){$(".top_mart .top_mart_con strong").text(a.partnerName);$(".head_info p strong").text(a.partnerName);
$(".head_info p .font_color23").text(a.partnerName)})}catch(b){}},showAllStoreMartPopupBox:function(a){indolotte.common.Ajax.sendJSONRequest("GET",CONSTANTS.baseUrl+"api/display/searchAllMartList","",function(b){b.martDeliveryStoreList&&($("#positionMartList").show(),$("#positionMartListTitle").show(),$("#positionMartList .none").siblings().remove(),$("#positionMartList .none").hide(),$("#tmplMartList").tmpl(b.martDeliveryStoreList).appendTo("#positionMartList"),"function"===typeof a&&$("div.mart_select").data("funcBuyNow",
a))})},partnerSet:function(a){$.fancybox($("#partnerConfirm"));$("#partnerConfirm\x3e.body\x3e.btn_wrap.t_center button").unbind().on("click",function(){var b=CONSTANTS.baseUrl+"api/display/setDefaultShortDistanceSellerNumber/"+a;$("#headerSllrNo").val(a);indolotte.common.Ajax.sendJSONRequest("POST",b,"",function(a){indolotte.front.ec.display.common.getPartnerName()},!1);indolotte.front.ec.display.common.clearLocalStorage(window.location.origin+"/MallInMall/Lotte-Mart/");indolotte.front.ec.display.common.clearLocalStorage(window.location.origin+
"/di/");b=$("div.mart_select").data("funcBuyNow");"function"===typeof b?($.fancybox.close(),b(!0)):location.reload()})},mart_setting_new:function(){$(".right_martmenu .left_button").click(function(){var a=$(".right_martmenu").attr("class").replace(/.*(type0\d).*/g,"$1");$(".right_martmenu").attr("class","right_martmenu");"type01"==a?$(".right_martmenu").addClass("type02"):"type02"==a&&$(".right_martmenu").addClass("type01")});$(".rm_btn_group .rm_btn.green").click(function(){$(".martpopup_box").show()});
$(".martpopup_box .btbox_close").click(function(){$(".martpopup_box").hide()});$(".btn_gray.icon_set").click(function(){getCurrentUser().isLoggedIn?($(".martpopup_box").show(),$("body").css("overflow","hidden"),indolotte.front.ec.display.common.showAllStoreMartPopupBox()):indolotte.front.ec.display.common.moveLogin()})},shareSocialMedia:function(a){var b="";switch(a.channel){case "facebook":b="http://www.facebook.com/sharer.php?u\x3d";break;case "google":b="https://plus.google.com/share?url\x3d";
break;case "line":b="https://lineit.line.me/share/ui?url\x3d{url}"}a=b+encodeURIComponent(CONSTANTS.snsLocalUrl+"/di/themestory/shareThemeStory.do?title\x3d"+a.title+"\x26content\x3d"+a.content+"\x26url\x3d"+a.shareUrl+"\x26imageSource\x3d"+a.img);window.open(a,"","menubar\x3dno,toolbar\x3dno,resizable\x3dyes,scrollbars\x3dyes,height\x3d600,width\x3d600")},campaignShareSocialMedia:function(a){var b=window.location.href,c=encodeURIComponent(b);1==a?b="http://www.facebook.com/sharer.php?u\x3d"+c:2==
a?b="https://plus.google.com/share?url\x3d"+c:3==a?b="https://lineit.line.me/share/ui?url\x3d"+c:4==a?b="https://api.whatsapp.com/send?text\x3d"+c:5==a&&(b="https://twitter.com/intent/tweet?text\x3d"+c);window.open(b,"","menubar\x3dno,toolbar\x3dno,resizable\x3dyes,scrollbars\x3dyes,height\x3d600,width\x3d600")},clearHistoryUrl:function(a){try{null!=localStorage.getItem(location.origin+a)&&(localStorage.removeItem(location.origin+a),localStorage.removeItem(location.origin+a+"_search"))}catch(b){}},
getBannerImageURL:function(a){var b=a;0==a.indexOf("/pub/")&&(b=BNR_PATH+a.substring(5));return b}};
$(document.body).ready(function(){indolotte.front.ec.display.common.initLocale();localStorage.getItem("initState")?-1===window.location.href.search("MallInMall")&&window.location.href!==window.location.origin+"/"||localStorage.setItem("initState",window.location.href):localStorage.setItem("initState",window.location.href);getCurrentUser().isLoggedIn?indolotte.front.ec.display.common.reloadQuickCounter():($("#quickCounterWishlist").hide(),$("#quickCounterCart").hide(),$("#quickCounterDelivery").hide());
$(".btn_share").click(function(){var a=this.id.toLowerCase();"sns_facebook"==a?indolotte.front.ec.display.common.campaignShareSocialMedia(1):"sns_google"==a?indolotte.front.ec.display.common.campaignShareSocialMedia(2):"sns_line"==a?indolotte.front.ec.display.common.campaignShareSocialMedia(3):"sns_whatsapp"==a?indolotte.front.ec.display.common.campaignShareSocialMedia(4):"sns_twitter"==a?indolotte.front.ec.display.common.campaignShareSocialMedia(5):($("#copy_container").val(window.location.href),
$("#copy_container").select(),document.execCommand("copy"),$("#sns_copy").tooltip({items:"#sns_copy",content:"Link was copied!"}).tooltip("open"),$("#sns_copy").on({click:function(){$(this).tooltip({items:"#sns_copy",content:"Link was copied!"});$(this).tooltip("open")},mouseout:function(){$(this).tooltip("disable")}}))});$(".share").click(function(){document.querySelector("#btn_share_container").classList.contains("btn_share_container_hide")?(document.querySelector("#btn_share_container").classList.remove("btn_share_container_hide"),
document.querySelector("#btn_share_container").classList.add("btn_share_container_show")):(document.querySelector("#btn_share_container").classList.remove("btn_share_container_show"),document.querySelector("#btn_share_container").classList.add("btn_share_container_hide"))})});String.prototype.startsWith||(String.prototype.startsWith=function(a){return!this.indexOf(a)});