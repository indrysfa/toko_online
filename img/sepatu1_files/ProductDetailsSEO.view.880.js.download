$.namespace("lotteindo.pr.ProductDetails.view");var timeSaleTimerId="",isLoggedInOld=USER.isLoggedIn;String.prototype.replaceAll=function(a,b){return this.split(a).join(b)};
lotteindo.pr.ProductDetails.view={init:function(){$(".digital__link").hide();lotteindo.pr.ProductDetailsAjax.eventHandler.init(productInfo)},bindButtonEvent:function(a){$(".zoom_01").elevateZoom({});prdsr_Layer_Detail();prdst_Arr();0<$("input[name\x3ddetailOptionNumber]").length&&(prdt_SizeColor_Detail(),setDetailOption());timeSaleTimer();setProductArea();prdeq_Num_Detail();lotteindo.pr.ProductDetails.view.changeItemCount();lotteindo.pr.ProductDetails.view.addDetailCookie();""!=$("#orderNumber").val()&&
void 0!=$("#orderNumber").val()&&null!=$("#orderNumber").val()&&"undefined"!=$("#orderNumber").val()&&lotteindo.pr.common.ProductUtil.Review.writable("detail");prd_Tab();$("#buyNowButton").click(function(){lotteindo.pr.ProductDetails.view.checkPurchaseQuantityLimit(a)&&lotteindo.pr.ProductDetailsAjax.eventHandler.clickProductDetail("03")});$("#addToCart").click(function(){lotteindo.pr.ProductDetails.view.checkPurchaseQuantityLimit(a)&&lotteindo.pr.ProductDetailsAjax.eventHandler.clickProductDetail("02")});
$("#giftButton").click(function(){lotteindo.pr.ProductDetails.view.checkPurchaseQuantityLimit(a)&&lotteindo.pr.ProductDetailsAjax.eventHandler.clickProductDetail("01")});$(".btn_modal_ok").click(function(){lotteindo.pr.ProductDetailsAjax.eventHandler.reloadPage(isLoggedInOld,USER.isLoggedIn)});$(".btn_modal_close").click(function(){lotteindo.pr.ProductDetailsAjax.eventHandler.reloadPage(isLoggedInOld,USER.isLoggedIn)});$("#foEcDialogCloseButton").click(function(){lotteindo.pr.ProductDetailsAjax.eventHandler.reloadPage(isLoggedInOld,
USER.isLoggedIn)});prd6_Slider();$(".ico_discount").click(function(){0<a.productVoucher.length&&lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.final.price"),"",function(a){})});lotteindo.pr.ProductDetails.view.bindButtonDiscount();layui_Layer_tooltip()},addDetailCookie:function(){for(var a=$("#productNumber").val(),b=$("#productRepImagePath").attr("src"),c=indolotte.front.ec.display.common.filterOfURL($("#brandName").val()+" "+$("#productName").val()),d=lotteindo.common.Cookie.getCookie("productNumber"),
f=lotteindo.common.Cookie.getCookie("productImagePath"),h=lotteindo.common.Cookie.getCookie("productSeoName"),d=d.split("^"),f=f.split("^"),e=h.split("^"),h=a+"^",b=b+"^",c=c+"^",k=19,g=0;g<d.length;g++)0<k&&""!=d[g]&&d[g]!=a&&(h+=d[g]+"^",b+=f[g]+"^",c+=e[g]+"^",k--);a=new Date;a.setTime(a.getTime()+864E5);lotteindo.common.Cookie.setCookie("productNumber",h,a,"/",".ilotte.com");lotteindo.common.Cookie.setCookie("productImagePath",b,a,"/",".ilotte.com");lotteindo.common.Cookie.setCookie("productSeoName",
c,a,"/",".ilotte.com")},changeDetailImage:function(a,b){$(".zoom_01").attr("src",b);$(".zoom_01").elevateZoom({});$(".prdt_sthumb li").removeClass("on");a.addClass("on")},changeItemCount:function(){var a=$("#inputItemCount").val();$("#inputItemCount").keyup(function(){$(this).val($(this).val().replace(/[^0-9]/g,""))});$("#inputItemCount").change(function(){if(""==$("input[name\x3dselectItemNo]").val())$("#inputItemCount").val(a),lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.choose.option"),
"",function(a){});else{""==$(this).val()&&$(this).val(1);var b=/^0+/gi;this.value.match(b)&&(this.value=this.value.replace(b,""));b=1*$(this).val();lotteindo.pr.ProductDetails.view.checkPurchaseQuantityLimit(b)&&""!=$("input[name\x3dselectItemNo]").val()&&(lotteindo.pr.ProductDetails.view.checkInventoryQuantity(b)?$("input[name\x3dselectItemCount]").val(b):$(this).val($("input[name\x3dselectItemCount]").val()));$("#totalSelectProductPriceP").text("Rp "+comma(Number($("#displaySalePrice").val())+Number(($("#inputItemCount").val()-
1)*$("#displayWithoutFinalPrice").val())));"false"==$("#isNotify").val()&&lotteindo.pr.ProductDetailsAjax.eventHandler.installmentAndGeneralPromo()}})},initMinimumPurchaseQuantity:function(a){if("Y"==$("input[name\x3dpurchaseQuantityLimitYNFlag]").val()){var b=new Date;void 0!=a.quantityLimitStartDateTime&&void 0!=a.quantityLimitEndDateTime?b>=new Date(a.quantityLimitStartDateTime)&&b<=new Date(a.quantityLimitEndDateTime)?($("#inputItemCount").val(a.minimumPurchaseQuantity),$("input[name\x3dselectItemCount]").val(a.minimumPurchaseQuantity),
$("#totalSelectProductPriceP").text("Rp "+comma(Number($("#displaySalePrice").val())+Number(($("#inputItemCount").val()-1)*$("#displayWithoutFinalPrice").val())))):$("#inputItemCount").val(1):void 0==a.quantityLimitStartDateTime&&void 0!=a.quantityLimitEndDateTime?b<=new Date(a.quantityLimitEndDateTime)?($("#inputItemCount").val(a.minimumPurchaseQuantity),$("input[name\x3dselectItemCount]").val(a.minimumPurchaseQuantity),$("#totalSelectProductPriceP").text("Rp "+comma(Number($("#displaySalePrice").val())+
Number(($("#inputItemCount").val()-1)*$("#displayWithoutFinalPrice").val())))):$("#inputItemCount").val(1):void 0!=a.quantityLimitStartDateTime&&void 0==a.quantityLimitEndDateTime?b>=new Date(a.quantityLimitStartDateTime)?($("#inputItemCount").val(a.minimumPurchaseQuantity),$("input[name\x3dselectItemCount]").val(a.minimumPurchaseQuantity),$("#totalSelectProductPriceP").text("Rp "+comma(Number($("#displaySalePrice").val())+Number(($("#inputItemCount").val()-1)*$("#displayWithoutFinalPrice").val())))):
($("#inputItemCount").val(1),$("input[name\x3dselectItemCount]").val(1)):($("#inputItemCount").val(a.minimumPurchaseQuantity),$("input[name\x3dselectItemCount]").val(a.minimumPurchaseQuantity),$("#totalSelectProductPriceP").text("Rp "+comma(Number($("#displaySalePrice").val())+Number(($("#inputItemCount").val()-1)*$("#displayWithoutFinalPrice").val()))))}},checkPurchaseQuantityLimit:function(a){if("Y"==$("input[name\x3dpurchaseQuantityLimitYNFlag]").val()){var b=new Date;if(void 0!=productInfo.quantityLimitStartDateTime&&
void 0!=productInfo.quantityLimitEndDateTime){if(b>=new Date(productInfo.quantityLimitStartDateTime)&&b<=new Date(productInfo.quantityLimitEndDateTime))return lotteindo.pr.ProductDetails.view.processPurchaseQuantityLimit(a)}else if(void 0==productInfo.quantityLimitStartDateTime&&void 0!=productInfo.quantityLimitEndDateTime){if(b<=new Date(productInfo.quantityLimitEndDateTime))return lotteindo.pr.ProductDetails.view.processPurchaseQuantityLimit(a)}else if(void 0!=productInfo.quantityLimitStartDateTime&&
void 0==productInfo.quantityLimitEndDateTime){if(b>=new Date(productInfo.quantityLimitStartDateTime))return lotteindo.pr.ProductDetails.view.processPurchaseQuantityLimit(a)}else return lotteindo.pr.ProductDetails.view.processPurchaseQuantityLimit(a)}return!0},processPurchaseQuantityLimit:function(a){var b="02"==productInfo.quantityLimitTypeCode&&isLoggedInOld?$("#remainingQty").val():productInfo.maximumPurchaseQuantity,c=productInfo.minimumPurchaseQuantity;return 0==b?(lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.BigDealDetail.message.limitPurchaseQty"),
"",function(a){$("#inputItemCount").val(1);$("input[name\x3dselectItemCount]").val(1);$("#totalSelectProductPriceP").text("Rp "+comma(Number($("#displaySalePrice").val())+Number(($("#inputItemCount").val()-1)*$("#displayWithoutFinalPrice").val())))}),!1):a>1*b?(lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.BigDealDetail.message.noIncrement",[b]),"",function(a){1*c<1*b?($("#inputItemCount").val(b),$("input[name\x3dselectItemCount]").val(b)):($("#inputItemCount").val(c),$("input[name\x3dselectItemCount]").val(c));
$("#totalSelectProductPriceP").text("Rp "+comma(Number($("#displaySalePrice").val())+Number(($("#inputItemCount").val()-1)*$("#displayWithoutFinalPrice").val())))}),!1):a<1*c?(lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.BigDealDetail.message.noReduce",[c]),"",function(a){$("#inputItemCount").val(c);$("input[name\x3dselectItemCount]").val(c);$("#totalSelectProductPriceP").text("Rp "+comma(Number($("#displaySalePrice").val())+Number(($("#inputItemCount").val()-1)*$("#displayWithoutFinalPrice").val())))}),
!1):!0},checkInventoryQuantity:function(a){if("Y"==$("#inventoryManagementYNFlag").val()){if(a>1*$("input[name\x3dselectInvqty]").val())return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.InventoryQuantityExceeded",[$("input[name\x3dselectInvqty]").val()]),"",function(a){}),!1;if("03"==$("input[name\x3dselectItemSaleStatusCode]").val())return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.InventoryQuantityExceededStatus"),
"",function(a){}),!1}return!0},viewProductDetail:function(a,b,c){location.href=getPrdUrl(c+"-"+a)},viewProductRecommendation:function(a,b,c,d){location.href=getPrdUrl(c+"-"+a)+"?utm_source\x3drecsys\x26utm_medium\x3ditem2item\x26tps\x3d0101"+d},viewSearchBrand:function(a){location.href=CONSTANTS.baseUrl+"se/search.do?query\x3d"+encodeURIComponent(a)+"\x26isBrandSearch\x3dtrue"},viewBrandCategory:function(a,b){var c=indolotte.front.ec.display.common.filterOfURL(b);location.href=c?CONSTANTS.baseUrl+
"di/displayView/"+indolotte.front.ec.display.common.filterOfURL(b)+"/"+a+"/view.do":CONSTANTS.baseUrl+"di/displayView/"+a+"/view.do"},showBuyButton:function(){$("#subscribeBackInStockAlertDiv").hide();$("#buyAvailable").show();$("#buyNotAvailable").hide();lotteindo.pr.ProductDetailsAjax.eventHandler.installmentAndGeneralPromo()},notShowBuyButton:function(){$("#subscribeBackInStockAlertDiv").show();$("#buyAvailable").hide();$("#buyNotAvailable").show();$("#installmentAvailable").hide()},getImage:function(a,
b){return PRD_IMG_PATH+a.productImagePathName+a.productImageName+PRD_IMG_SIZE[b]+a.productImageExtensionName},constructCashbackLayer:function(a,b){$("#ipoint").text(comma(a.memberPointReserveRate));$("#lpoint").text(comma(a.lPointReserveRate));var c="",d=[],f=0,h="";$.each(b,function(a,b){a="02"==b.rateAmountApplyWayCode?Math.round($("#displaySalePrice").val()*b.benefitValue/100):parseInt(b.benefitValue);if(void 0!=b.benefitApplyUpperLimitAmount||""!=b.benefitApplyUpperLimitAmount)a=b.benefitApplyUpperLimitAmount<=
a?b.benefitApplyUpperLimitAmount:a;b.value=a;d.push(b.value)});0<d.length&&(f=Math.max.apply(this,d));0==f&&$("#additionalCashbackSection").remove();h=comma(a.memberPointReserveRate+a.lPointReserveRate+f);b.sort(function(a,b){return a.value>b.value?-1:a.value<b.value?1:0});var e=!1;$.each(b,function(a,b){var d=a="";b.value!=f||e||(a='class\x3d"top_none text_blue"',d='class\x3d"text_blue"',e=!0);c+="\x3ctr\x3e\x3cth "+a+"\x3e"+b.promotionName+"\x3c/th\x3e\x3ctd "+d+"\x3e\x3cb\x3e"+comma(b.value)+"\x3c/b\x3e\x3c/td\x3e\x3c/tr\x3e"});
$("#additionalCashback").append(c);$("#totalPoint").text(h);0<h&&($(".cashback,.plus-mark").show(),$(".cashback_amount").text(h))},constructInstallmentLayer:function(a){var b=1E8,c={},d=[];a.noInterestInstallmentList.forEach(function(a){a.partnershipPromotionList.forEach(function(a){var d=null==c[a.benefitValue]?[]:c[a.benefitValue];a.creditAmount=Math.round(document.getElementById("displaySalePrice").value/a.benefitValue);b=Math.min(b,a.creditAmount);d.push(a);c[a.benefitValue]=d})});a.partnershipList.forEach(function(a){a.partnershipPromotionList.forEach(function(a){-1===
d.indexOf(a.imageName)&&d.push(a.imageName)})});var f=[];Object.keys(c).forEach(function(a){f.push({tenor:a,partnershipPromotionList:c[a]})});var h={data:f},e={data:d};$("#bankInstallScript").tmpl(e).appendTo("#bankInstallLayer");$("#bankPromoScript").tmpl(a).appendTo("#bankPromoLayer");$("#installmentScript").tmpl(h).appendTo("#installmentLayer");$("#startInstallment").text("Rp "+comma(b));0<a.noInterestInstallmentList.length&&$(".installments-info").show()},checkUnclaimed:function(){var a=document.querySelectorAll(".claimed.hidden").length;
void 0!=a&&($("#amount_voucher").is(":visible")&&(document.getElementById("amount_voucher").innerHTML="("+a+")"),0===a?($("#claim_all_vouchers").is(":visible")&&document.getElementById("claim_all_vouchers").classList.add("hidden"),$("#unclaim_all_vouchers").is(":visible")&&document.getElementById("unclaim_all_vouchers").classList.remove("hidden")):($("#claim_all_vouchers").is(":visible")&&document.getElementById("claim_all_vouchers").classList.remove("hidden"),$("#unclaim_all_vouchers").is(":visible")&&
document.getElementById("unclaim_all_vouchers").classList.add("hidden")))},claimAllVouchers:function(){if(USER.isLoggedIn){for(var a=$(".claimed.hidden").siblings(".voucher_number"),a=lotteindo.pr.ProductDetailsAjax.eventHandler.downloadVoucher(a),b=0;b<a.length;b++)$(".voucher_number[value\x3d'"+a[b]+"']").siblings(".claimed").removeClass("hidden");0<a.length?($.fancybox.open($("#voucherClaimed")),setTimeout(function(){$.fancybox.close()},1E3)):lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.download.voucher.failed"),
"",function(a){});lotteindo.pr.ProductDetails.view.checkUnclaimed()}else indolotte.common.Biz.login.goToLogin(!0)},bindButtonDiscount:function(){document.getElementById("wishlist-button").addEventListener("click",function(){USER.isLoggedIn?$("#wishlist-button").hasClass("active")?lotteindo.pr.ProductDetailsAjax.eventHandler.removeWishlist()&&(this.classList.remove("active"),popup(MESSAGES.format("pr.js.ProductDetail.message.unwishlist.success"))):lotteindo.pr.ProductDetailsAjax.eventHandler.registerWishlist()&&
(this.classList.toggle("active"),popup(MESSAGES.format("pr.js.ProductDetail.message.wishlist.success"))):indolotte.common.Biz.login.goToLogin(!0)});$(".tabs-list li a").click(function(a){a.preventDefault()});$(".tabs-list li").click(function(){var a=$(this).find("a").attr("href");$(".tabs-list li,.tabs div.tab").removeClass("active");$(".tab").removeClass("active");$(a).addClass("active");$(this).addClass("active")});$(".installments-info").click(function(){$(".tabs-list li,.tabs div.tab").removeClass("active");
$(".tab").removeClass("active");$("#installmentLayer").addClass("active");$("#installment-tab").addClass("active")});$(".discount-detail-button").click(function(){$(".tabs-list li,.tabs div.tab").removeClass("active");$(".tab").removeClass("active");$("#bankPromoLayer").addClass("active");$("#bankPromo-tab").addClass("active")})}};
function timeSaleTimer(){var a=$("#liveShopDisplayDate").val();""!=timeSaleTimerId&&clearInterval(timeSaleTimerId);if(0!=a){var b=function(a){return 10>a?"0"+a:a};timeSaleTimerId=setInterval(function(){$("#timeSaleTimerBlock").text(b(parseInt(a/3600))+"h:"+b(parseInt(a/60%60))+"m:"+b(a%60)+"s");--a},1E3)}else $("#timeSaleTimerBlock").hide()}
function setProductArea(){Number($("#displayOriginalSalePrice").val())<=Number($("#displaySalePrice").val())?($(".amount .prd_sale").hide(),$(".amount .amountxt1").hide(),$(".amount .amountxt2").hide()):Number($("#displaySalePrice").val())==Number($("#salePrice").val())&&$(".amount .prd_sale").addClass("type02")}
function prdsr_Layer_Detail(){""!=$("#productMarketingMessageContainer").text()&&$(".score_star_box").mouseenter(function(){$(".pop_over").show()}).mouseleave(function(){$(".pop_over").hide()});$(".pit_over").mouseenter(function(){$(".popmodal_type.pop_over2").show()}).mouseleave(function(){$(".popmodal_type.pop_over2").hide()})}
function prdeq_Num_Detail(){$(".form_ui_number .btn_plus").click(function(){var a=$(".btn_plus").index(this),b=$(".form_ui_number input:eq("+a+")").val();""==$("input[name\x3dselectItemNo]").val()?lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.choose.option"),"",function(a){}):999>b&&(b=$(".form_ui_number input:eq("+a+")").val(1*b+1),$("#inputItemCount").change())});$(".form_ui_number .btn_minus").click(function(){var a=$(".btn_minus").index(this),b=$(".form_ui_number input:eq("+
a+")").val();""==$("input[name\x3dselectItemNo]").val()?lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.choose.option"),"",function(a){}):1<b&&(b=$(".form_ui_number input:eq("+a+")").val(1*b-1));$("#inputItemCount").change()})}
function prdt_SizeColor_Detail(){$(document).on("click",".amount_dl .size_box",function(a){a.preventDefault();var b=$(this),c="N";b.hasClass("out")||(b.hasClass("on")?b.removeClass("on"):($(".amount_dl .size_box").each(function(a){$(this).data("optno")==b.data("optno")&&$(this).removeClass("on")}),b.addClass("on"),c="Y"),$("input[name\x3ddetailOptionNumber]").each(function(a){$(this).val()==b.data("optno")&&$(this).data("flag",c)}),setDetailOption())});$(document).on("click",".color_box li",function(a){a.preventDefault();
var b=$(this),c="N";b.hasClass("out")||(b.hasClass("on")?b.removeClass("on"):($(".color_box li").each(function(a){$(this).data("optno")==b.data("optno")&&$(this).removeClass("on")}),b.addClass("on"),c="Y"),$("input[name\x3ddetailOptionNumber]").each(function(a){$(this).val()==b.data("optno")&&$(this).data("flag",c)}),setDetailOption())})}
function setDetailItem(a,b,c,d){$("input[name\x3dselectItemNo]").val(c);$("input[name\x3dselectItemSaleStatusCode]").val(d);$("input[name\x3dselectInvqty]").val(a);$("input[name\x3dselectSafyinvqty]").val(b);"Y"===$("input[name\x3d'purchaseQuantityLimitYNFlag']:eq(0)").val()&&lotteindo.pr.common.ProductUtil.isValidRangeDate(productInfo.quantityLimitStartDateTime,productInfo.quantityLimitEndDateTime)?($("#inputItemCount").val($("input[name\x3d'minimumPurchaseQuantity']:eq(0)").val()),$("#totalSelectProductPriceP").text("Rp "+
comma(Number($("#displaySalePrice").val())+Number((Number($("input[name\x3d'minimumPurchaseQuantity']:eq(0)").val())-1)*$("#displayWithoutFinalPrice").val()))),$("input[name\x3dselectItemCount]").val($("input[name\x3d'minimumPurchaseQuantity']:eq(0)").val())):($("#inputItemCount").val(1),$("#totalSelectProductPriceP").text("Rp "+comma($("#displaySalePrice").val())),$("input[name\x3dselectItemCount]").val(1));setItemInvText()}
function setItemInvText(){if(""!=$("input[name\x3dselectItemNo]").val()){var a=1*$("input[name\x3dselectInvqty]").val(),b=1*$("input[name\x3dselectSafyinvqty]").val(),c=$("input[name\x3dselectItemSaleStatusCode]").val(),d=$("#mainProductSaleStatusCode").val();$("#itemInvQty2").text("");"false"==$("#isNotify").val()?lotteindo.pr.ProductDetails.view.showBuyButton():lotteindo.pr.ProductDetails.view.notShowBuyButton();if("Y"==$("#inventoryManagementYNFlag").val()&&"02"==d)if("02"==c)1>a?($("#itemInvQty2").text(MESSAGES.format("pr.js.ProductDetail.label.soldout")),
lotteindo.pr.ProductDetails.view.notShowBuyButton()):(a<=b&&$("#itemInvQty2").text(MESSAGES.format("pr.js.ProductReview.label.almostSoldOut")),lotteindo.pr.ProductDetails.view.showBuyButton());else if("03"==c||"04"==c)$("#itemInvQty2").text(MESSAGES.format("pr.js.ProductDetail.label.soldout")),lotteindo.pr.ProductDetails.view.notShowBuyButton()}else $("#itemInvQty2").text("")}
function checkDetailM1Option(a,b){for(var c=[],d=[],f=[],h=[],e,k,g=0;g<a.length;g++)f.push(a[g].data("optno")+"/"+a[g].data("optval")+"/"+a[g].data("optvalno")),d.push(a[g].data("optno")+"/"+a[g].data("optval")+"/"+a[g].data("optvalno")),h.push(a[g].data("optno")+"");$("input[name\x3ddetailOptionNumber]").each(function(){if(-1==h.indexOf($(this).val()+""))return e=$(this).val()+"",k=$(this).data("optionvaluegroupcode"),!1});$("[name\x3doption_"+e+"]").each(function(){var a=$(this);d.push(a.data("optno")+
"/"+a.data("optval")+"/"+a.data("optvalno"));$("input[name\x3ddetailItemInv]").each(function(){for(var e=0;4>=e;e++)""!=$(this).data("optno"+e)&&(c[e]=$(this).data("optno"+e)+"/"+$(this).data("optval"+e)+"/"+$(this).data("optvalno"+e));for(e=0;e<d.length&&-1!=c.indexOf(d[e]);e++)if(e==d.length-1){if("03"===$(this).data("itmsalestcd")||1>$(this).data("invqty")&&"04"!==$(this).data("itmsalestcd"))return b?"01"===k?a.addClass("out_of_stock_color"):a.addClass("out_of_stock"):-1==f.indexOf(a.data("optno")+
"/"+a.data("optval")+"/"+a.data("optvalno"))&&("01"===k?a.addClass("out_of_stock_color"):a.addClass("out_of_stock")),!1;if("02"!==$(this).data("itmsalestcd"))return"05"==$(this).data("itmsalestcd")?a.hide():b?a.addClass("out"):-1==f.indexOf(a.data("optno")+"/"+a.data("optval")+"/"+a.data("optvalno"))&&a.addClass("out"),!1}});d.splice(d.length-1,1)})}
function checkDetailAllOption(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].data("optno")+"/"+a[c].data("optval")+"/"+a[c].data("optvalno"));$("input[name\x3ddetailItemInv]").each(function(){for(var a=[],c=1;4>=c;c++)""!=$(this).data("optno"+c)&&void 0!=$(this).data("optno"+c)&&a.push($(this).data("optno"+c)+"/"+$(this).data("optval"+c)+"/"+$(this).data("optvalno"+c));for(c=0;c<b.length&&-1!=a.indexOf(b[c]);c++)if(c==b.length-1&&("02"==$(this).data("itmsalestcd")||"03"==$(this).data("itmsalestcd")))return setDetailItem($(this).data("invqty"),
$(this).data("safyinvqty"),$(this).data("itmno"),$(this).data("itmsalestcd")),!1});for(c=0;c<a.length;c++){for(var d=[],f=0;f<a.length;f++)c!=f&&d.push(a[f]);checkDetailM1Option(d,!1)}}
function setDetailOption(){var a=[];$(".amount_dl .size_box").each(function(b){$(this).hasClass("on")&&a.push($(this));$(this).removeClass("out");$(this).show();$(this).removeClass("out_of_stock");$(this).removeClass("out_of_stock_color");"false"==$("#isNotify").val()&&lotteindo.pr.ProductDetails.view.showBuyButton()});$(".color_box li").each(function(b){$(this).hasClass("on")&&a.push($(this));$(this).removeClass("out");$(this).show();$(this).removeClass("out_of_stock");$(this).removeClass("out_of_stock_color");
$(this).off("click")});setDetailItem("","","","");var b=$("input[name\x3ddetailOptionNumber]").length,c=a.length;0==b-c?checkDetailAllOption(a):1==b-c&&checkDetailM1Option(a,!0)}function comma(a){return 0>a?0:a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}
function layui_Layer_tooltip(){$("#popupBank").hover(function(a){a=a.clientY;var b=$(this).parent().children("div").height(),c=$(window).height(),d=b+$(this).parent().children("label").height();!0===c-a>b?$(this).parent().hasClass("on")?($(this).parent().removeClass("on"),$(".layer_ui .tooltip").addClass("on")):($(".layer_ui .tooltip").removeClass("on"),$(this).parent().children("div").css("margin-top","-1px"),$(this).parent().addClass("on")):$(this).parent().hasClass("on")?($(this).parent().removeClass("on"),
$(".layer_ui .tooltip").addClass("on"),$(this).parent().children("div").css("margin-top","-1px")):($(".layer_ui .tooltip").removeClass("on"),$(this).parent().addClass("on"),$(this).parent().children("div").css({"margin-top":"-"+d+"px"}))});$(".btn_layer_close, .quick_innr .btn_close").on("click",function(){$(".poplayer_wrap, .tooltip").parent().removeClass("on")})}
function clickSns(a){var b=location.origin+getPrdUrl($("#productName").val()+"-"+$("#productNumber").val()),c=$("#snsImgSrc").val();"01"==a?lotteindo.pr.common.ProductUtil.SNS.facebook(b,escape($("#productName").val()),c):"02"==a?lotteindo.pr.common.ProductUtil.SNS.googleplus(b,escape($("#productName").val()),c):(a=$("meta[property\x3d'og:url']"),$("#urlLocationText").val(a.attr("content")),$("#urlLocationText").select(),document.execCommand("copy"),lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.urlCopied"),
"",function(a){}))}function getPrdUrl(a){return CONSTANTS.baseUrl+indolotte.front.ec.display.common.filterOfURL(a)+".do"}function popup(a,b,c){void 0==b&&(b="generalPopupMessage");void 0!=a&&$("#"+b+" div p ").html(a);$.fancybox.open($("#"+b));setTimeout(function(){$.fancybox.close()},void 0==c?2E3:c)};