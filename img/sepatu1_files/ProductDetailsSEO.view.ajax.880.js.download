var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
var detailsContextUrl=CONSTANTS.baseUrl+"api/product/detail/",_token=$("meta[name\x3d'_csrf']").attr("content"),_header=$("meta[name\x3d'_csrf_header']").attr("content"),numberFormatClass="number",isLoggedInOld=USER.isLoggedIn,tenorVal=[],tenorValDuplicate=[],cardCompanyCode={},displaySalePrice,generalPromoVal=[],responseInstallment=null,saleStCd={PENDING:"01",ON_SALE:"02",OUT_OF_STOCK:"03",SOLD_OUT:"04",END_OF_SALE:"05"};$.namespace("lotteindo.pr.ProductDetailsAjax.eventHandler");
lotteindo.pr.ProductDetailsAjax.eventHandler={init:function(a){lotteindo.pr.ProductDetailsAjax.eventHandler.setCanonicalURL(a);lotteindo.pr.ProductDetailsAjax.eventHandler.mount(a);viewRenderingAtEnd(a)},setCanonicalURL:function(a){var b=document.createElement("link"),c=indolotte.front.ec.display.common.filterOfURL(a.productName);b.setAttribute("rel","canonical");b.setAttribute("href",window.location.origin+CONSTANTS.baseUrl+c+"-"+a.productNumber+".do");document.head.appendChild(b)},mount:function(a){if(new Date>
a.productSaleEndDateTime||new Date<a.productSaleStartDateTime)a.productSaleStatusCode="04";if("05"==a.productTypeCode)return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.pulsa"),"",function(a){history.back()}),!1;fullPageTitle||(fullPageTitle="iLOTTE");fb_content_category||(fb_content_category="");a.displaySalePrice||(a.displaySalePrice=0);fbq("track","ViewContent",{content_name:fullPageTitle,content_category:fb_content_category,content_ids:productNumber,
content_type:"product",value:a.displaySalePrice,currency:"IDR"})},getPartnerProductInfo:function(a,b){indolotte.common.Ajax.sendJSONRequest("POST",detailsContextUrl+"getPartnerProductInfo",JSON.stringify({upperSellerNo:a.upperSellerNumber,productCode:a.sellerProductNumber,storeCode:a.storeCode}),function(a){a.succeeded?b(a.data.data[0]):lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.thereIsNoStock",[a.STOCK_QTY]),"",function(a){})})},checkPartnerQuantity:function(a,
b){"Y"==a.invokePartnerProductApiYNFlag?lotteindo.pr.ProductDetailsAjax.eventHandler.getPartnerProductInfo(a,function(a){console.log(a);if(!/^\d+$/.test($("#inputItemCount").val()))return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.quantityNotNumeric"),"",function(a){}),!1;if(local.displayMallCode==local.lotteMartMallCode){var c=$("#inputItemCount").val();a.STOCK_QTY>=c?lotteindo.pr.ProductDetailsAjax.eventHandler.clickProductDetail(b):lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.InventoryQuantityExceeded",
[a.STOCK_QTY]),"",function(a){})}}):lotteindo.pr.ProductDetailsAjax.eventHandler.clickProductDetail(b)},getInvItemCount:function(){$("#productNumber").val();for(var a=$("select[name\x3doption]"),b=[],c=0;c<a.length;c++){var d=a[c].val().split(",");b.push({optionNumber:d[0],optionValueNumbers:d[1]})}},getProductSizeInfo:function(){var a=detailsContextUrl+"getProductSizeInfo/"+$("#productNumber").val()+"/"+CONSTANTS.currentLocaleLanguage;indolotte.common.Ajax.sendJSONRequest("GET",a,null,function(a){if(a.succeeded)if(null!=
a.data){for(var b="",d=0;d<a.data.sizeChartContentList.length;d++)b+='\x3cimg src\x3d"'+a.data.sizeChartContentList[d]+'" alt\x3d"" /\x3e';$("#productSizeDiv").append(b)}else $("button[name\x3dbrandSizeButton]").hide();else lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.error")+" : "+a.message,"",function(a){})})},getProductRecommended:function(a,b){b=detailsContextUrl+"getProductRecommended/"+$("#productNumber").val()+"/"+CONSTANTS.currentLocaleLanguage+
"/"+b+"/"+a;indolotte.common.Ajax.sendJSONRequest("GET",b,null,function(b){b.succeeded?(b.associationType=a,"02"==a?b.title=MESSAGES.format("pr.js.ProductDetail.message.otherTheSameProduct"):"03"==a&&(b.title=MESSAGES.format("pr.js.ProductDetail.message.interestProduct")),$("#productRecommendedScript").tmpl(b).appendTo("#productRecommendedLayer"+a),prd6_Slider()):lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.error")+" : "+b.message,"",function(a){})})},getProductOtherSeller:function(){var a=
detailsContextUrl+"getProductOtherSeller/"+$("#productNumber").val()+"/"+CONSTANTS.currentLocaleLanguage;indolotte.common.Ajax.sendJSONRequest("GET",a,{shortDistanceDeliveryYNFlag:$("#shortDistanceDeliveryYNFlag").val()},function(a){a.succeeded?($("#otherSellerProductScript").tmpl(a).appendTo("#otherSellerProductLayer"),2<a.data.length&&prdtr_More()):lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.error")+" : "+a.message,"",function(a){})})},restockNotification:function(){if(""==
$("input[name\x3dselectItemNo]").val()){var a="";$("input[name\x3ddetailOptionNumber]").each(function(b){if("N"==$(this).data("flag"))return a=MESSAGES.format("pr.js.ProductDetail.message.selectOption",[$(this).data("optnm")]),!1});if(""!=a)return lotteindo.pr.common.ProductUtil.Layer.alert(a,"",function(a){}),!1}var b=detailsContextUrl+"restockNoti/"+$("#productNumber").val()+"/"+$("input[name\x3dselectItemNo]").val();indolotte.common.Ajax.sendJSONRequest("GET",b,null,function(a){a.succeeded?"SUCCESS"==
a.data.resultCode?(a=MESSAGES.format("pr.js.ProductDetail.message.registRestocking")+"\x3cbr /\x3e"+MESSAGES.format("pr.js.ProductDetail.message.moveToList"),lotteindo.pr.common.ProductUtil.Layer.confirm(a,"",function(a){a?location.href=CONSTANTS.baseUrl+"me/ApplyForRestocking/view.do":lotteindo.pr.ProductDetailsAjax.eventHandler.reloadPage(isLoggedInOld,USER.isLoggedIn)})):lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.duplicateRestocking"),"",function(a){}):
lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.error")+" : "+a.message,"",function(a){})})},getProductSpecification:function(a){a=detailsContextUrl+"getProductSpecification/"+$("#productNumber").val();indolotte.common.Ajax.sendJSONRequest("GET",a,null,function(a){a.succeeded?0<a.data.length?$("#productionSpecificationScript").tmpl(a).appendTo("#productionSpecificationLayer"):$("#productSpecification").remove():lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.error")+
" : "+a.message,"",function(a){})})},addCartItem:function(){var a=CONSTANTS.baseUrl+"api/op/cart/addCartItem",b=queryString.categoryNumber;if(void 0===b||""===b||null===b)b=$("input[name\x3dcategoryNumber]").val();if("Y"!=$("input[name\x3dcustomBuildingProductYNFlag]").val())var c={productNumber:$("#productNumber").val(),itemNumber:$("input[name\x3dselectItemNo]").val(),orderQuantity:$("input[name\x3dselectItemCount]").val(),displayCategoryNumber:b,utmSource:lotteindo.pr.common.ProductUtil.getURLParameter("utm_source"),
utmMedium:lotteindo.pr.common.ProductUtil.getURLParameter("utm_medium")};else{var d=[];$("input[name\x3dinputTypeOptionVal]").each(function(a){a={inputTypeOptionSequence:$("input[name\x3dinputTypeOptionSequence]:eq("+a+")").val(),inputOptionName:$("input[name\x3dinputOptionName]:eq("+a+")").val(),inputOptionTypeCode:$("input[name\x3dinputOptionTypeCode]:eq("+a+")").val(),displaySequenceOrder:$("input[name\x3ddisplaySequenceOrder]:eq("+a+")").val(),directInputOptionValue:$("input[name\x3dinputTypeOptionVal]:eq("+
a+")").val()};d.push(a)});c={productNumber:$("#productNumber").val(),itemNumber:$("input[name\x3dselectItemNo]").val(),orderQuantity:$("input[name\x3dselectItemCount]").val(),displayCategoryNumber:b,optionDirectInputYnFlag:"Y",cartOptionInputList:d,utmSource:lotteindo.pr.common.ProductUtil.getURLParameter("utm_source"),utmMedium:lotteindo.pr.common.ProductUtil.getURLParameter("utm_medium")}}indolotte.common.Ajax.sendJSONRequest("POST",a,JSON.stringify(c),function(a){"00"==a.resultCode?(fbq("track",
"AddToCart",{content_ids:c.productNumber,content_type:"product",value:$("#displaySalePrice").val(),currency:"IDR"}),a=MESSAGES.format("pr.js.ProductDetail.message.addCart01"),lotteindo.pr.common.ProductUtil.Layer.confirmHideCloseBtn(a,"",function(a){a?location.href=CONSTANTS.baseUrl+"op/cart/view.do":lotteindo.pr.ProductDetailsAjax.eventHandler.reloadPage(isLoggedInOld,USER.isLoggedIn)}),$(".btn_type1.small.btn_modal_ok").html(MESSAGES.format("pr.js.ProductDetail.message.addCart.show.cart")),$(".btn_type1.small.btn_modal_cancel").html(MESSAGES.format("pr.js.ProductDetail.message.addCart.continue.shopping"))):
lotteindo.pr.common.ProductUtil.Layer.alert(void 0==a.resultMessage?a.message:a.resultMessage,"",function(a){})})},getCountOfWishlist:function(a){var b=CONSTANTS.baseUrl+"api/me/wishlist/getCountOfWishlist/"+$("#productNumber").val();indolotte.common.Ajax.sendJSONRequest("GET",b,null,function(b){a&&($(".btn_ico_fav").hasClass("on")||$(".btn_ico_fav").addClass("on"));$("#productWishListCount").text("("+b+")")})},checkWishlistRegistration:function(){var a=CONSTANTS.baseUrl+"api/me/wishlist/checkWishlistRegistration/"+
$("#productNumber").val();indolotte.common.Ajax.sendJSONRequest("GET",a,null,function(a){a.succeeded&&"1"==a.data&&$(".btn_ico_fav").addClass("on")})},registerWishlist:function(){var a=CONSTANTS.baseUrl+"api/me/wishlist/registerWishlist",b=queryString.categoryNumber;if(void 0===b||""===b||null===b)b=$("input[name\x3dcategoryNumber]").val();b={wishListType:"01",visibilityOfSocialWishlist:"N",listOfTargetNumber:[{productNumber:$("#productNumber").val(),orderCategoryNumber:b}]};return indolotte.common.Ajax.sendJSONRequest("POST",
a,JSON.stringify(b),function(a){return"0"==a.code?!0:!1})},removeWishlist:function(){var a=CONSTANTS.baseUrl+"api/me/wishlist/removeProductOfWishlist",b=$("#productNumber").val();return indolotte.common.Ajax.sendJSONRequest("POST",a,JSON.stringify({listOfWishListNumber:[b]}),function(a){return"0"==a.code?!0:!1})},clickLoginCheck:function(a,b){USER.isLoggedIn?"02"==a?lotteindo.pr.ProductDetailsAjax.eventHandler.registerWishlist():"05"==a?lotteindo.pr.common.ProductUtil.Review.check(lotteindo.pr.ProductDetailsReviewAjax.eventHandler.registerProductReview):
"06"==a&&lotteindo.pr.ProductDetailsAjax.eventHandler.restockNotification():indolotte.common.Biz.login.goToLogin(!0)},clickProductDetail:function(a){if("01"==a&&"Y"!=$("#giftPossibilityYNFlag").val())return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.notGiftItem"),"",function(a){}),!1;if("02"==a){var b=!1;$("#detailDeliveryTypeUl li").each(function(a){if("02"==$(this).data("deliverytypecode"))return b=!0,!1});if(b)return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.eVoucherNoCart"),
"",function(a){}),!1;if(!/^\d+$/.test($("#inputItemCount").val()))return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.pleaseSelectAQuantity"),"",function(a){}),!1}indolotte.common.Ajax.sendJSONRequest("GET",detailsContextUrl+"getMemberType",null,function(b){b.succeeded?lotteindo.pr.ProductDetailsAjax.eventHandler.callProductDetail(a,b.data):lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.error")+" : "+b.message,"",
function(a){})})},callProductDetail:function(a,b){if(""==$("input[name\x3dselectItemNo]").val()){var c="";$("input[name\x3ddetailOptionNumber]").each(function(a){if("N"==$(this).data("flag"))return c=MESSAGES.format("pr.js.ProductDetail.message.selectOption",[$(this).data("optnm")]),!1});if(""!=c)return lotteindo.pr.common.ProductUtil.Layer.alert(c,"",function(a){}),!1}if(1>$("input[name\x3dselectItemCount]").val())return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.pleaseSelectAQuantity"),
"",function(a){}),!1;if("Y"==$("#inventoryManagementYNFlag").val()&&(""==$("input[name\x3dselectInvqty]").val()||"0"==$("input[name\x3dselectInvqty]").val()||"03"==$("input[name\x3dselectItemSaleStatusCode]").val()))return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.thereIsNoStock"),"",function(a){}),!1;if(!lotteindo.pr.ProductDetails.view.checkPurchaseQuantityLimit($("#inputItemCount").val(),!0))return!1;if("Y"==$("#b2eExclusiveUseYnFlag").val()&&"03"!=
b&&"02"!=b)return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.thisItemIsForB2EOnly"),"",function(a){}),!1;if(0<$("input[name\x3dinputTypeOptionVal]").length){var d=!1;$("input[name\x3dinputTypeOptionVal]").each(function(a){$(this).val(lotteindo.pr.common.ProductUtil.cutByteLength($(this).val(),50));if(""==$.trim($(this).val()))return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.directInput",[$(this).data("inputtypeoptionname")]),
"",function(a){}),d=!0,!1});if(d)return!1}if("02"==a){var e=!1,f=[];$("#detailDeliveryTypeUl li").each(function(a){a=$(this).data("deliverytypecode");if("02"==a||"03"==a)return e=!0,!1;f.push(a)});e||(-1<f.indexOf("08")||-1<f.indexOf("09"))&&-1>=f.indexOf("05")&&-1>=f.indexOf("07")&&(e=!0);if(e)return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.noCart"),"",function(a){}),!1}$("#detailButtonType").val(a);var h=!1;$("#detailDeliveryTypeUl li").each(function(a){"02"==
$(this).data("ordertype")&&(h=!0)});if(h)return USER.isLoggedIn?lotteindo.pr.ProductDetailsAjax.eventHandler.getShortDistanceSellerNumber(!0):indolotte.common.Biz.login.goToLogin(!0),!1;lotteindo.pr.ProductDetailsAjax.eventHandler.decisionProductDetail()},decisionProductDetail:function(){if("02"==$("#detailButtonType").val())lotteindo.pr.ProductDetailsAjax.eventHandler.addCartItem();else if(1<$("#detailDeliveryTypeUl li").length){var a=[],b="",c="",d="",e=!1;$("#detailDeliveryTypeUl li").each(function(f){c=
$(this).data("ordertype");d=$(this).data("deliverytypecode");-1==a.indexOf(c)?a.push(c):$(this).remove();"02"!=d&&"03"!=d&&"04"!=d&&"05"!=d&&"07"!=d&&"98"!=d||""!=b||(b=c);"90"==d&&(e=!0);document.querySelector("#upperSellerNumber").value==filterOfupperSupplierNumber.LMI.reff01&&"08"==d&&($(this).remove(),a.splice(a.indexOf("06"),1))});-1<a.indexOf("02")&&-1<a.indexOf("06")&&($("#detailDeliveryTypeUl li").each(function(a){if("06"==$(this).data("ordertype"))return $(this).remove(),!1}),a=jQuery.grep(a,
function(a){return"06"!=a}));if(1<a.length)if("01"==$("#detailButtonType").val())if(""!=b)lotteindo.pr.ProductDetailsAjax.eventHandler.buyProductItem(b);else{if(e)return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.lockerNoGift"),"",function(a){}),!1}else layer_open("laypop5",!1);1==$("#detailDeliveryTypeUl li").length&&$("#detailDeliveryTypeUl li").each(function(a){"03"!=$(this).data("ordertype")?(a=document.querySelector("#upperSellerNumber").value==filterOfupperSupplierNumber.LMI.reff01&&
"08"==$(this).data("deliverytypecode")?"02":$(this).data("ordertype"),lotteindo.pr.ProductDetailsAjax.eventHandler.buyProductItem(a)):lotteindo.pr.common.ProductUtil.checkElockerOrder()})}else 1==$("#detailDeliveryTypeUl li").length?$("#detailDeliveryTypeUl li").each(function(a){"03"!=$(this).data("ordertype")?(a=document.querySelector("#upperSellerNumber").value==filterOfupperSupplierNumber.LMI.reff01&&"08"==$(this).data("deliverytypecode")?"02":$(this).data("ordertype"),lotteindo.pr.ProductDetailsAjax.eventHandler.buyProductItem(a)):
lotteindo.pr.common.ProductUtil.checkElockerOrder()}):lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.error")+" : none delivery Type code","",function(a){})},getShortDistanceSellerNumber:function(a){indolotte.common.Ajax.sendJSONRequest("GET",CONSTANTS.baseUrl+"api/me/information/getDefaultShortDistanceSellerNumber",null,function(b){b.succeeded&&(void 0===b.data||""===b.data||null===b.data?(indolotte.front.ec.display.common.showAllStoreMartPopupBox(lotteindo.pr.ProductDetailsAjax.eventHandler.getShortDistanceSellerNumber),
$(".martpopup_box").show(),$("body").css("overflow","hidden")):$("#sellerNumber").val()==b.data?a&&(clearPopMart(),lotteindo.pr.ProductDetailsAjax.eventHandler.decisionProductDetail()):getOtherSameSupplierProduct(b.data)?(clearPopMart(),lotteindo.pr.ProductDetailsAjax.eventHandler.decisionProductDetail()):(b=MESSAGES.format("pr.js.ProductDetail.message.noShortDistance04"),lotteindo.pr.common.ProductUtil.Layer.alert(b,"",function(){})))},!1)},buyProductItem:function(a){$(".laydim").fadeOut();$("#laypop5").parent().parent().fadeOut();
var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_parameter']").attr("content"),d=CONSTANTS.baseUrl;if("01"==a)d+="op/generalParcel/view.do";else if("02"==a)d+="op/shortDistance/view.do";else if("03"==a){if($("#boxUsableQuantity").val()<$("input[name\x3dselectItemCount]").val())return lotteindo.pr.common.ProductUtil.Layer.alert(MESSAGES.format("pr.js.ProductDetail.message.buyElocker",[$("#boxUsableQuantity").val()]),"",function(a){}),!1;d+="op/elocker/view.do"}else"04"==a?
d+="op/intangible/view.do":"05"==a?d+="op/internationalShipping/view.do":"06"==a?d+="op/pickup/view.do":"07"==a?d+="op/giftVoucher/view.do":"08"==a&&(d+="op/optik/view.do");var e=$("\x3cform\x3e\x3c/form\x3e").attr("id","moveToOrderForm");$("\x3cinput type\x3d'hidden' value\x3d'"+b+"' \x3e").attr("name",c).appendTo(e);$("\x3cinput type\x3d'hidden' value\x3d'Y' \x3e").attr("name","directOrder").appendTo(e);"01"==$("#detailButtonType").val()&&$("\x3cinput type\x3d'hidden' value\x3d'Y' \x3e").attr("name",
"giftYnFlag").appendTo(e);a=queryString.categoryNumber;if(void 0===a||""===a||null===a)a=$("input[name\x3dcategoryNumber]").val();$("\x3cinput type\x3d'hidden' value\x3d'"+$("#productNumber").val()+"' \x3e").attr("name","cartItems[0].productNumber").appendTo(e);$("\x3cinput type\x3d'hidden' value\x3d'"+$("input[name\x3dselectItemNo]").val()+"' \x3e").attr("name","cartItems[0].itemNumber").appendTo(e);$("\x3cinput type\x3d'hidden' value\x3d'"+$("input[name\x3dselectItemCount]").val()+"' \x3e").attr("name",
"cartItems[0].orderQuantity").appendTo(e);$("\x3cinput type\x3d'hidden' value\x3d'"+a+"' \x3e").attr("name","cartItems[0].displayCategoryNumber").appendTo(e);"Y"==$("input[name\x3dcustomBuildingProductYNFlag]").val()&&($("\x3cinput type\x3d'hidden' value\x3d'Y' \x3e").attr("name","cartItems[0].optionDirectInputYnFlag").appendTo(e),$("input[name\x3dinputTypeOptionVal]").each(function(a){$("\x3cinput type\x3d'hidden' value\x3d'"+$("input[name\x3dinputTypeOptionSequence]:eq("+a+")").val()+"' \x3e").attr("name",
"cartItems[0].cartOptionInputList["+a+"].inputTypeOptionSequence").appendTo(e);$("\x3cinput type\x3d'hidden' value\x3d'"+$("input[name\x3dinputOptionName]:eq("+a+")").val()+"' \x3e").attr("name","cartItems[0].cartOptionInputList["+a+"].inputOptionName").appendTo(e);$("\x3cinput type\x3d'hidden' value\x3d'"+$("input[name\x3dinputOptionTypeCode]:eq("+a+")").val()+"' \x3e").attr("name","cartItems[0].cartOptionInputList["+a+"].inputOptionTypeCode").appendTo(e);$("\x3cinput type\x3d'hidden' value\x3d'"+
$("input[name\x3ddisplaySequenceOrder]:eq("+a+")").val()+"' \x3e").attr("name","cartItems[0].cartOptionInputList["+a+"].displaySequenceOrder").appendTo(e);$("\x3cinput type\x3d'hidden' value\x3d'"+$("input[name\x3dinputTypeOptionVal]:eq("+a+")").val()+"' \x3e").attr("name","cartItems[0].cartOptionInputList["+a+"].directInputOptionValue").appendTo(e)}));a=lotteindo.pr.common.ProductUtil.getURLParameter("utm_source");b=lotteindo.pr.common.ProductUtil.getURLParameter("utm_medium");$("\x3cinput type\x3d'hidden' value\x3d'"+
a+"' \x3e").attr("name","cartItems[0].utmSource").appendTo(e);$("\x3cinput type\x3d'hidden' value\x3d'"+b+"' \x3e").attr("name","cartItems[0].utmMedium").appendTo(e);e.appendTo("body");e.attr("action",d);e.attr("method","POST");e.submit()},reloadPage:function(a,b){!a&&b&&location.reload()},installmentAndGeneralPromo:function(){if(null!=responseInstallment){response=responseInstallment;tenorVal=[];tenorValDuplicate=[];cardCompanyCode={};displaySalePrice;generalPromoVal=[];displaySalePrice=$("#displaySalePrice").val()*
$("#inputItemCount").val();var a=parseInt($("#memberPointReserveRate").val())+parseInt($("#lPointReserveRate").val());$("#totalPointReserveRate").html(comma(a));$.each(response.data.noInterestInstallmentList,function(a,c){$.each(c.partnershipPromotionList,function(a,b){displaySalePrice>=b.benefitCriteriaValue&&(-1===$.inArray(parseInt(b.benefitValue),tenorVal)&&tenorVal.push(parseInt(b.benefitValue)),tenorValDuplicate.push(parseInt(b.benefitValue)),cardCompanyCode[b.benefitValue]=b.benefitValue in
cardCompanyCode?cardCompanyCode[b.benefitValue]+","+b.cardCompanyCode:b.cardCompanyCode)})});tenorVal.sort(function(a,c){return a-c});tenorValDuplicate.sort(function(a,c){return a-c});if(0<tenorVal.length){$("#tenor").empty();for(a=0;a<tenorVal.length;a++)$("#tenor").append('\x3coption value\x3d"'+tenorVal[a]+'"\x3e'+tenorVal[a]+"\x3c/option\x3e");$("#tenor").val(Math.max.apply(Math,[].concat($jscomp.arrayFromIterable(tenorVal))));local.displayMallCode==local.bestDenkiMallCode&&$("#buyNotAvailable").is(":hidden")?
($("#installmentAvailable").show(),lotteindo.pr.ProductDetailsAjax.eventHandler.calculateInstallment("#tenor")):$("#installmentAvailable").hide()}else $("#installmentAvailable").hide()}},calculateInstallment:function(a){var b=parseInt($(a).val());$("#installmentAmount").html("Rp "+comma(Math.trunc(displaySalePrice/b)));var c=0;for(a=0;a<tenorValDuplicate.length;a++)b==tenorValDuplicate[a]&&c++;$("#countInstallmentBank").html(c+" Bank");b=cardCompanyCode[b].split(",");$("#installmentBank").empty();
for(a=0;a<b.length;a++)$("#installmentBank").append('\x3cimg alt\x3d"Installment Bank" style\x3d"border:none; width:120px" src\x3d"'+$("#installmentBankImg").val()+"bank_installment_"+b[a]+'.png"\x3e')},getRemainingPurchaseQuantityLimitPerAccount:function(a){var b=new Date(a.quantityLimitStartDateTime?a.quantityLimitStartDateTime:a.productSaleStartDateTime),c=new Date(a.quantityLimitStartDateTime?a.quantityLimitStartDateTime:a.productSaleStartDateTime);divideDate(b,c,new Date(a.quantityLimitStartDateTime?
a.quantityLimitStartDateTime:a.productSaleStartDateTime),new Date(a.quantityLimitEndDateTime?a.quantityLimitEndDateTime:a.productSaleEndDateTime),void 0==a.quantityLimitApplyDays?1:a.quantityLimitApplyDays,"DAY");b={searchProductNumber:a.productNumber,searchMemberNumber:USER.userSeq,searchStartDate:simpleDateFormat(b),searchEndDate:simpleDateFormat(c)};c=detailsContextUrl.replace("/product/detail/","")+"/op/getOrderProductCount.do";indolotte.common.Ajax.sendJSONRequest("POST",c,JSON.stringify(b),
function(b){b=a.maximumPurchaseQuantity-(null!=b.data?b.data.orderQuantity:0);$("#remainingQty").val(0>b?0:b)})},scrollEvent:function(){function a(a,b){var c=document.documentElement,c=(window.pageYOffset||c.scrollTop)-(c.clientTop||0);$("#"+a).is(":visible")&&(a=document.getElementById(a).offsetTop-screen.height,c>=a-150&&b(!0))}var b=!0,c=!0,d=!0,e=!0;$(window).scroll(function(){b&&a("productRecommendedLayer03",function(a){a&&(lotteindo.pr.ProductDetailsAjax.eventHandler.getProductRecommended("03",
"10"),b=!1)});c&&a("otherSellerProductLayer",function(a){a&&(lotteindo.pr.ProductDetailsAjax.eventHandler.getProductOtherSeller(),c=!1)});d&&a("productDescription",function(a){a&&(lotteindo.pr.ProductDetailsReviewAjax.eventHandler.makeReviewSection(1,$("#productNumber").val()),d=!1)});e&&a("productDescription",function(a){a&&(lotteindo.pr.ProductDetailsAjax.eventHandler.getProductSpecification(),e=!1)})})},downloadVoucher:function(a){for(var b=[],c=0;c<a.length;c++){var d={voucherNumber:$(a[c]).val()},
e=$.param(d);indolotte.common.Ajax.sendJSONRequest("get",CONSTANTS.baseUrl+"pm/issueVoucher.do",e,function(a){"Y"==a.successYN&&b.push(d.voucherNumber)},!1)}return b},setNotify:function(a){var b=!0;if(a.productSaleStatusCode==saleStCd.ON_SALE||a.productSaleStatusCode==saleStCd.OUT_OF_STOCK)if(1<a.itemList.length)for(var c=0;c<a.itemList.length;c++){if(a.itemList[c].itemSaleStatusCode==saleStCd.ON_SALE){b=!1;break}}else 1==a.itemList.length&&(b=a.itemList[0].itemSaleStatusCode==saleStCd.ON_SALE?!1:
!0,$("span[data-optvalno\x3d1]").addClass("on"),$("li[data-optvalno\x3d1]").addClass("on"),$("input[name\x3ddetailOptionNumber]").attr("data-flag","Y"));else 1==a.itemList.length&&($("span[data-optvalno\x3d1]").addClass("on"),$("li[data-optvalno\x3d1]").addClass("on"),$("input[name\x3ddetailOptionNumber]").attr("data-flag","Y"));$("#isNotify").val(b);b?lotteindo.pr.ProductDetails.view.notShowBuyButton():lotteindo.pr.ProductDetails.view.showBuyButton()}};
function viewRenderingAtEnd(a){$("#shortDescription").html(a.shortDescription);11==a.productDetailTypeCode&&$(".prdt_detail_info").append('\x3cimg alt\x3d"Fresh Food" class\x3d"right" src\x3d"'+$("#freshFoodImg").val()+'"\x3e');0>=a.productVoucher.length&&$(".ico_discount span").hide();if(a.detailDescriptionContents)$(".prdt_detail_info").append(a.detailDescriptionContents);else for(var b=a.imageList,c=0;c<b.length;c++){var d='\x3cimg src\x3d"'+PRD_IMG_PATH+b[c].productImagePathName+b[c].productImageName+
PRD_IMG_SIZE[800]+b[c].productImageExtensionName+'" alt\x3d"" /\x3e';$(".prdt_detail_info").append(d)}lotteindo.pr.ProductDetailsAjax.eventHandler.setNotify(a);$("#mainProductSaleStatusCode").val(a.productSaleStatusCode);lotteindo.pr.ProductDetailsAjax.eventHandler.getCountOfWishlist(!1);lotteindo.pr.ProductDetailsAjax.eventHandler.getProductSizeInfo();lotteindo.pr.ProductDetailsAjax.eventHandler.getProductRecommended("02","0");"02"==a.quantityLimitTypeCode&&isLoggedInOld&&lotteindo.pr.ProductDetailsAjax.eventHandler.getRemainingPurchaseQuantityLimitPerAccount(a);
USER.isLoggedIn&&lotteindo.pr.ProductDetailsAjax.eventHandler.checkWishlistRegistration(!1);lotteindo.pr.common.ProductUtil.searchPromotion({productNumber:a.productNumber,standardCategoryNumber:a.standardCategoryNumber,partnerNumber:a.sellerNumber,brandNumber:a.brandNumber,salePrice:a.displaySalePrice},function(b){responseInstallment=b;lotteindo.pr.ProductDetailsAjax.eventHandler.installmentAndGeneralPromo();lotteindo.pr.ProductDetails.view.constructCashbackLayer(a,responseInstallment.data.generalPromotionList);
lotteindo.pr.ProductDetails.view.constructInstallmentLayer(b.data);lotteindo.pr.ProductDetails.view.checkUnclaimed();bnr3_slider()});lotteindo.pr.common.ProductUtil.getSlotContents();lotteindo.pr.common.ProductUtil.getPartnerInformaion($("#sellerNumber").val(),"sellerNameP");lotteindo.pr.ProductDetailsReviewAjax.eventHandler.init("tab3",$("#productNumber").val());lotteindo.pr.ProductDetailsReviewAjax.eventHandler.setTotalReviewScore($("#productNumber").val());lotteindo.pr.ProductDetailsAjax.eventHandler.scrollEvent();
changeCommaNumberFormat();lotteindo.pr.ProductDetails.view.bindButtonEvent(a);lotteindo.pr.ProductDetails.view.initMinimumPurchaseQuantity(a)}function changeCommaNumberFormat(){$("."+numberFormatClass).each(function(){var a=$(this).text(),a=Number(a).toLocaleString(CONSTANTS.currentLocale);$(this).text(a)})}function clearPopMart(){$("div.mart_select").data("funcBuyNow","");$(".martpopup_box").hide();$("body").css("overflow","visible")}
function getOtherSameSupplierProduct(a){var b=detailsContextUrl+"getProductOtherSeller/"+$("#productNumber").val()+"/"+CURRENT_LOCALE_LANGUAGE,c=$("input[name\x3dselectItemNo]").val(),d=$("input[name\x3dselectItemCount]").val(),e=!1;indolotte.common.Ajax.sendJSONRequest("GET",b,{itemNo:c,shortDistanceDeliveryYNFlag:$("#shortDistanceDeliveryYNFlag").val()},function(b){b&&$.each(b.data,function(b,c){if(c.sellerNumber==a&&c.salePossibilityQuantity>=d)return e=!0,$("input[name\x3dproductNumber]").val(c.productNumber),
!1})},!1);return e}function simpleDateFormat(a){function b(a){return 10>a?"0"+a:a}var c=a.getFullYear().toString(),d=b(a.getMonth()+1).toString(),e=b(a.getDate()).toString(),f=b(a.getHours()).toString();a=b(a.getMinutes()).toString();return c+d+e+f+a}
function divideDate(a,b,c,d,e,f){function h(a,b,c){switch(c){case "DAY":a.setDate(a.getDate()+b);break;case "WEEK":a.setDate(a.getDate()+7*b);break;case "MONTH":a.setMonth(a.geMonth()+b)}}function m(a,b){a=a.getTime();b=b.getTime();return Math.round((b-a)/864E5)}for(var g=new Date,l=!0,k=!0;k;)l?(h(b,e,f),l=!1):(h(a,e,f),h(b,e,f)),b<=d?a>=c?g>=a&&g<=b&&g<=d&&(k=!1):(console.log("Out of date"),k=!1):a>=c&&31>m(d,b)?g>=a&&g<=b&&g<=d&&(k=!1):(console.log("Out of date"),k=!1)};